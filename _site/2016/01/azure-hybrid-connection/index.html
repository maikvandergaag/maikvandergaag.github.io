<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Azure Hybrid Connection - Microsoft Playground</title>
<meta name="description" content="Hybrid connection is a component of Azure BizTalk Services. With a Hybrid connection you can easily connect Azure App Services with on-premise services behind a firewall.  Hybrid connection is one of the possible solutions to connect to a on-premise environment. The Hybrid connection has the following advantages:  Safely unlock on-premise data. Multiple Azure App Services can use the same hybrid connection. Minimal number of TCP ports needed for access to the locale network. Only access to specific on-premise resources, configured in the Hybrid Connection. Can connect to every on-premise source with a static TCP-port for example: SQL Server, MySQL, HTTP Web API’s and Web Services.  Note:”TCP sources with a dynamic port are not supported at this moment”  Hybrid connection can be used with every framework the Azure App Services Supports. Connection properties when Hybrid Connections are in place are exactly the same as when you setup the connection in a on-premise environment.  Reading those advantages make you wonder on how the Hybrid Connection is secured. The connections are secured with a Shared Access Signature (SAS). This will make sure the connection between the Azure application and the on-premise Hybrid Connection Manager are secured. To setup a Hybrid Connection you do not require to have any inbound ports open. In a situation were you do not open any port the Hybrid Connection will use TCP-port 80 and 443 by default. This configuration is not preferred. If a preferred configuration is needed you will have to configure the following out bound http-traffic. For Hybrid Connections it is not needed to configure inbound traffic ports in the firewall.    Port Why Outbound   9350-9354 These ports will be used for data traffic. The Service Bus Relays manager uses port 9350 to determine if TCP traffic is available. If it is it will also presume 9352 is available. Data traffic will go over 9352 yes   5671 If port 9352 is used for data traffic port 5671 will be used as control channel. yes   80-443 If port 9352 and 5671 are not available port 80 and 443 will be used for data traffic and control channel.&lt;/p&gt; Note: This is not a preferred configuration.&lt;/td&gt; yes &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &nbsp; Setting up a Hybrid Connection In order to setup a Hybrid Connection you can connect to the Azure Preview portal and navigate to the Azure App Service you would like to configure the Hybrid Connection for.  Select “Settings”, “Networking”, “Configure your hybrid connection endpoint”. A screen will appear on the left side with your current Hybrid Connections. To add a new one click Add on the top of the screen.  Every time the process goes on a new screen will appear at the left side. After selecting the Add button you will get a option to create a new hybrid connection or use a existing hybrid connection. Because this is the first time we do not have any hybrid connection we will select “New hybrid connection”. You will now have to fill in the following information:    Name Unique Azure name for the hybrid connection   Hostname The hostname of the on-premise you will connect to. This can also be the FQDN or the IP Address   Port The static TCP-port you will connect to.    After the information is filled in a BizTalk Service needs to be configured that will handle the connection (Service Bus Relay). You will configure a new one with a appropriate name. By selecting Ok on both the BizTalk Service creation window and the New hybrid connection window the Hybrid Connection will be configured and created. When this is done the hybrid connection will be shown in the hybrid connections overview of the Azure App Service.  As you can see in the picture the hybrid connection is not yet connected. You can connect the hybrid connection by taking the following steps.  Login to the server were you would like to install the Hybrid Connection Manager. On the server navigate to the Azure Preview Portal. Within the Azure Preview Portal navigate to the Azure App Service were you configured  the Hybrid Connection. Open the Hybrid Connections overview by clicking: “Settings”, “Networking”, “Configure your hybrid connection endpoint”. Click on the hybrid connection that we created.  In the window that appears you can see that it isn’t configured. To configure the connection click on “Listener Setup”.  Clicking on “Listener Setup” will open a window were you get the option to configure the Hybrid Connection. This can be done manually by using the connection strings or by installing en configuring it directly. Let’s click “Install and Configure now”. This opens a new tab that will download an installation file.  Run this application and it will make sure that the Hybrid Connection Manager will be installed and configured.  After the installation is finished you will also notice that the configuration is successful within the azure preview portal.  With the Hybrid Connection in place you can connect to your on-premise systems just like you would do when you deploy your service to a on-premise environment.">


  <meta name="author" content="Maik van der Gaag">
  
  <meta property="article:author" content="Maik van der Gaag">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Microsoft Playground">
<meta property="og:title" content="Azure Hybrid Connection">
<meta property="og:url" content="http://localhost:4000/2016/01/azure-hybrid-connection/">


  <meta property="og:description" content="Hybrid connection is a component of Azure BizTalk Services. With a Hybrid connection you can easily connect Azure App Services with on-premise services behind a firewall.  Hybrid connection is one of the possible solutions to connect to a on-premise environment. The Hybrid connection has the following advantages:  Safely unlock on-premise data. Multiple Azure App Services can use the same hybrid connection. Minimal number of TCP ports needed for access to the locale network. Only access to specific on-premise resources, configured in the Hybrid Connection. Can connect to every on-premise source with a static TCP-port for example: SQL Server, MySQL, HTTP Web API’s and Web Services.  Note:”TCP sources with a dynamic port are not supported at this moment”  Hybrid connection can be used with every framework the Azure App Services Supports. Connection properties when Hybrid Connections are in place are exactly the same as when you setup the connection in a on-premise environment.  Reading those advantages make you wonder on how the Hybrid Connection is secured. The connections are secured with a Shared Access Signature (SAS). This will make sure the connection between the Azure application and the on-premise Hybrid Connection Manager are secured. To setup a Hybrid Connection you do not require to have any inbound ports open. In a situation were you do not open any port the Hybrid Connection will use TCP-port 80 and 443 by default. This configuration is not preferred. If a preferred configuration is needed you will have to configure the following out bound http-traffic. For Hybrid Connections it is not needed to configure inbound traffic ports in the firewall.    Port Why Outbound   9350-9354 These ports will be used for data traffic. The Service Bus Relays manager uses port 9350 to determine if TCP traffic is available. If it is it will also presume 9352 is available. Data traffic will go over 9352 yes   5671 If port 9352 is used for data traffic port 5671 will be used as control channel. yes   80-443 If port 9352 and 5671 are not available port 80 and 443 will be used for data traffic and control channel.&lt;/p&gt; Note: This is not a preferred configuration.&lt;/td&gt; yes &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &nbsp; Setting up a Hybrid Connection In order to setup a Hybrid Connection you can connect to the Azure Preview portal and navigate to the Azure App Service you would like to configure the Hybrid Connection for.  Select “Settings”, “Networking”, “Configure your hybrid connection endpoint”. A screen will appear on the left side with your current Hybrid Connections. To add a new one click Add on the top of the screen.  Every time the process goes on a new screen will appear at the left side. After selecting the Add button you will get a option to create a new hybrid connection or use a existing hybrid connection. Because this is the first time we do not have any hybrid connection we will select “New hybrid connection”. You will now have to fill in the following information:    Name Unique Azure name for the hybrid connection   Hostname The hostname of the on-premise you will connect to. This can also be the FQDN or the IP Address   Port The static TCP-port you will connect to.    After the information is filled in a BizTalk Service needs to be configured that will handle the connection (Service Bus Relay). You will configure a new one with a appropriate name. By selecting Ok on both the BizTalk Service creation window and the New hybrid connection window the Hybrid Connection will be configured and created. When this is done the hybrid connection will be shown in the hybrid connections overview of the Azure App Service.  As you can see in the picture the hybrid connection is not yet connected. You can connect the hybrid connection by taking the following steps.  Login to the server were you would like to install the Hybrid Connection Manager. On the server navigate to the Azure Preview Portal. Within the Azure Preview Portal navigate to the Azure App Service were you configured  the Hybrid Connection. Open the Hybrid Connections overview by clicking: “Settings”, “Networking”, “Configure your hybrid connection endpoint”. Click on the hybrid connection that we created.  In the window that appears you can see that it isn’t configured. To configure the connection click on “Listener Setup”.  Clicking on “Listener Setup” will open a window were you get the option to configure the Hybrid Connection. This can be done manually by using the connection strings or by installing en configuring it directly. Let’s click “Install and Configure now”. This opens a new tab that will download an installation file.  Run this application and it will make sure that the Hybrid Connection Manager will be installed and configured.  After the installation is finished you will also notice that the configuration is successful within the azure preview portal.  With the Hybrid Connection in place you can connect to your on-premise systems just like you would do when you deploy your service to a on-premise environment.">



  <meta property="og:image" content="http://localhost:4000/assets/profile/profile.png">



  <meta name="twitter:site" content="@maikvandergaag">
  <meta name="twitter:title" content="Azure Hybrid Connection">
  <meta name="twitter:description" content="Hybrid connection is a component of Azure BizTalk Services. With a Hybrid connection you can easily connect Azure App Services with on-premise services behind a firewall.  Hybrid connection is one of the possible solutions to connect to a on-premise environment. The Hybrid connection has the following advantages:  Safely unlock on-premise data. Multiple Azure App Services can use the same hybrid connection. Minimal number of TCP ports needed for access to the locale network. Only access to specific on-premise resources, configured in the Hybrid Connection. Can connect to every on-premise source with a static TCP-port for example: SQL Server, MySQL, HTTP Web API’s and Web Services.  Note:”TCP sources with a dynamic port are not supported at this moment”  Hybrid connection can be used with every framework the Azure App Services Supports. Connection properties when Hybrid Connections are in place are exactly the same as when you setup the connection in a on-premise environment.  Reading those advantages make you wonder on how the Hybrid Connection is secured. The connections are secured with a Shared Access Signature (SAS). This will make sure the connection between the Azure application and the on-premise Hybrid Connection Manager are secured. To setup a Hybrid Connection you do not require to have any inbound ports open. In a situation were you do not open any port the Hybrid Connection will use TCP-port 80 and 443 by default. This configuration is not preferred. If a preferred configuration is needed you will have to configure the following out bound http-traffic. For Hybrid Connections it is not needed to configure inbound traffic ports in the firewall.    Port Why Outbound   9350-9354 These ports will be used for data traffic. The Service Bus Relays manager uses port 9350 to determine if TCP traffic is available. If it is it will also presume 9352 is available. Data traffic will go over 9352 yes   5671 If port 9352 is used for data traffic port 5671 will be used as control channel. yes   80-443 If port 9352 and 5671 are not available port 80 and 443 will be used for data traffic and control channel.&lt;/p&gt; Note: This is not a preferred configuration.&lt;/td&gt; yes &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &nbsp; Setting up a Hybrid Connection In order to setup a Hybrid Connection you can connect to the Azure Preview portal and navigate to the Azure App Service you would like to configure the Hybrid Connection for.  Select “Settings”, “Networking”, “Configure your hybrid connection endpoint”. A screen will appear on the left side with your current Hybrid Connections. To add a new one click Add on the top of the screen.  Every time the process goes on a new screen will appear at the left side. After selecting the Add button you will get a option to create a new hybrid connection or use a existing hybrid connection. Because this is the first time we do not have any hybrid connection we will select “New hybrid connection”. You will now have to fill in the following information:    Name Unique Azure name for the hybrid connection   Hostname The hostname of the on-premise you will connect to. This can also be the FQDN or the IP Address   Port The static TCP-port you will connect to.    After the information is filled in a BizTalk Service needs to be configured that will handle the connection (Service Bus Relay). You will configure a new one with a appropriate name. By selecting Ok on both the BizTalk Service creation window and the New hybrid connection window the Hybrid Connection will be configured and created. When this is done the hybrid connection will be shown in the hybrid connections overview of the Azure App Service.  As you can see in the picture the hybrid connection is not yet connected. You can connect the hybrid connection by taking the following steps.  Login to the server were you would like to install the Hybrid Connection Manager. On the server navigate to the Azure Preview Portal. Within the Azure Preview Portal navigate to the Azure App Service were you configured  the Hybrid Connection. Open the Hybrid Connections overview by clicking: “Settings”, “Networking”, “Configure your hybrid connection endpoint”. Click on the hybrid connection that we created.  In the window that appears you can see that it isn’t configured. To configure the connection click on “Listener Setup”.  Clicking on “Listener Setup” will open a window were you get the option to configure the Hybrid Connection. This can be done manually by using the connection strings or by installing en configuring it directly. Let’s click “Install and Configure now”. This opens a new tab that will download an installation file.  Run this application and it will make sure that the Hybrid Connection Manager will be installed and configured.  After the installation is finished you will also notice that the configuration is successful within the azure preview portal.  With the Hybrid Connection in place you can connect to your on-premise systems just like you would do when you deploy your service to a on-premise environment.">
  <meta name="twitter:url" content="http://localhost:4000/2016/01/azure-hybrid-connection/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/assets/profile/profile.png">
    
  

  



  <meta property="article:published_time" content="2016-01-18T13:27:19+01:00">






<link rel="canonical" href="http://localhost:4000/2016/01/azure-hybrid-connection/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Maik van der Gaag",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/maikvandergaag","https://github.com/maikvandergaag"]
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Microsoft Playground Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<link rel="stylesheet" href="/assets/css/custom.css">

<!-- You can set your favicon here -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Microsoft Playground
          <span class="site-subtitle">debug.write('Architecture, Azure, Azure DevOps, Git, GitHub, DevOps');</span>
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/about">About</a>
            </li>
<li class="masthead__menu-item">
              <a href="/extensions">Extensions</a>
            </li>
<li class="masthead__menu-item">
              <a href="/speaking">Speaking</a>
            </li>
<li class="masthead__menu-item">
              <a href="/year-archive">Posts</a>
            </li>
<li class="masthead__menu-item">
              <a href="/categories">Categories</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/profile/profile.png" alt="Maik van der Gaag" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Maik van der Gaag</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am <strong>Microsoft Azure MVP</strong>, <strong>Speaker</strong> and <strong>Father</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Schiedam, The Netherlands</span>
        </li>
      

      
        
          
            <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Azure Hybrid Connection">
    <meta itemprop="description" content="Hybrid connection is a component of Azure BizTalk Services. With a Hybrid connection you can easily connect Azure App Services with on-premise services behind a firewall.Hybrid connection is one of the possible solutions to connect to a on-premise environment. The Hybrid connection has the following advantages:Safely unlock on-premise data.Multiple Azure App Services can use the same hybrid connection.Minimal number of TCP ports needed for access to the locale network.Only access to specific on-premise resources, configured in the Hybrid Connection.Can connect to every on-premise source with a static TCP-port for example: SQL Server, MySQL, HTTP Web API’s and Web Services.Note:”TCP sources with a dynamic port are not supported at this moment”Hybrid connection can be used with every framework the Azure App Services Supports.Connection properties when Hybrid Connections are in place are exactly the same as when you setup the connection in a on-premise environment.Reading those advantages make you wonder on how the Hybrid Connection is secured. The connections are secured with a Shared Access Signature (SAS). This will make sure the connection between the Azure application and the on-premise Hybrid Connection Manager are secured.To setup a Hybrid Connection you do not require to have any inbound ports open. In a situation were you do not open any port the Hybrid Connection will use TCP-port 80 and 443 by default. This configuration is not preferred.If a preferred configuration is needed you will have to configure the following out bound http-traffic. For Hybrid Connections it is not needed to configure inbound traffic ports in the firewall.PortWhyOutbound9350-9354These ports will be used for data traffic. The Service Bus Relays manager uses port 9350 to determine if TCP traffic is available. If it is it will also presume 9352 is available. Data traffic will go over 9352yes5671If port 9352 is used for data traffic port 5671 will be used as control channel.yes80-443If port 9352 and 5671 are not available port 80 and 443 will be used for data traffic and control channel.&lt;/p&gt;Note: This is not a preferred configuration.&lt;/td&gt;yes&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; Setting up a Hybrid ConnectionIn order to setup a Hybrid Connection you can connect to the Azure Preview portal and navigate to the Azure App Service you would like to configure the Hybrid Connection for.Select “Settings”, “Networking”, “Configure your hybrid connection endpoint”. A screen will appear on the left side with your current Hybrid Connections. To add a new one click Add on the top of the screen.Every time the process goes on a new screen will appear at the left side. After selecting the Add button you will get a option to create a new hybrid connection or use a existing hybrid connection.Because this is the first time we do not have any hybrid connection we will select “New hybrid connection”.You will now have to fill in the following information:NameUnique Azure name for the hybrid connectionHostnameThe hostname of the on-premise you will connect to. This can also be the FQDN or the IP AddressPortThe static TCP-port you will connect to.After the information is filled in a BizTalk Service needs to be configured that will handle the connection (Service Bus Relay). You will configure a new one with a appropriate name.By selecting Ok on both the BizTalk Service creation window and the New hybrid connection window the Hybrid Connection will be configured and created.When this is done the hybrid connection will be shown in the hybrid connections overview of the Azure App Service.As you can see in the picture the hybrid connection is not yet connected. You can connect the hybrid connection by taking the following steps.Login to the server were you would like to install the Hybrid Connection Manager.On the server navigate to the Azure Preview Portal.Within the Azure Preview Portal navigate to the Azure App Service were you configured  the Hybrid Connection.Open the Hybrid Connections overview by clicking: “Settings”, “Networking”, “Configure your hybrid connection endpoint”.Click on the hybrid connection that we created.In the window that appears you can see that it isn’t configured. To configure the connection click on “Listener Setup”.Clicking on “Listener Setup” will open a window were you get the option to configure the Hybrid Connection. This can be done manually by using the connection strings or by installing en configuring it directly.Let’s click “Install and Configure now”. This opens a new tab that will download an installation file.Run this application and it will make sure that the Hybrid Connection Manager will be installed and configured.After the installation is finished you will also notice that the configuration is successful within the azure preview portal.With the Hybrid Connection in place you can connect to your on-premise systems just like you would do when you deploy your service to a on-premise environment.">
    <meta itemprop="datePublished" content="2016-01-18T13:27:19+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Azure Hybrid Connection
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Hybrid connection is a component of Azure BizTalk Services. With a Hybrid connection you can easily connect Azure App Services with on-premise services behind a firewall.</p>
<p><a href="/assets/archive/2016/01/clip_image002.jpg"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="clip_image002" src="/assets/archive/2016/01/clip_image002_thumb.jpg" alt="clip_image002" width="581" height="313" border="0" hspace="12"></a></p>
<p>Hybrid connection is one of the possible solutions to connect to a on-premise environment. The Hybrid connection has the following advantages:</p>
<ul>
<li>Safely unlock on-premise data.</li>
<li>Multiple Azure App Services can use the same hybrid connection.</li>
<li>Minimal number of TCP ports needed for access to the locale network.</li>
<li>Only access to specific on-premise resources, configured in the Hybrid Connection.</li>
<li>Can connect to every on-premise source with a static TCP-port for example: SQL Server, MySQL, HTTP Web API’s and Web Services.</li>
</ul>
<p><em>Note:”TCP sources with a dynamic port are not supported at this moment”</em></p>
<ul>
<li>Hybrid connection can be used with every framework the Azure App Services Supports.</li>
<li>Connection properties when Hybrid Connections are in place are exactly the same as when you setup the connection in a on-premise environment.</li>
</ul>
<p>Reading those advantages make you wonder on how the Hybrid Connection is secured. The connections are secured with a Shared Access Signature (SAS). This will make sure the connection between the Azure application and the on-premise Hybrid Connection Manager are secured.</p>
<p>To setup a Hybrid Connection you do not require to have any inbound ports open. In a situation were you do not open any port the Hybrid Connection will use TCP-port 80 and 443 by default. This configuration is not preferred.</p>
<p>If a preferred configuration is needed you will have to configure the following out bound http-traffic. For Hybrid Connections it is not needed to configure inbound traffic ports in the firewall.</p>
<table border="0" width="455" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top" width="108"><strong>Port</strong></td>
<td valign="top" width="237"><strong>Why</strong></td>
<td valign="top" width="108"><strong>Outbound</strong></td>
</tr>
<tr>
<td valign="top" width="108">9350-9354</td>
<td valign="top" width="237">These ports will be used for data traffic. The Service Bus Relays manager uses port 9350 to determine if TCP traffic is available. If it is it will also presume 9352 is available. Data traffic will go over 9352</td>
<td valign="top" width="108">yes</td>
</tr>
<tr>
<td valign="top" width="108">5671</td>
<td valign="top" width="237">If port 9352 is used for data traffic port 5671 will be used as control channel.</td>
<td valign="top" width="108">yes</td>
</tr>
<tr>
<td valign="top" width="108">80-443</td>
<td valign="top" width="237">If port 9352 and 5671 are not available port 80 and 443 will be used for data traffic and control channel.
<p><strong>Note: This is not a preferred configuration.</strong></p>
</td>
<td valign="top" width="108">yes</td>
</tr>
</tbody>
</table>
<p> </p>
<h3>Setting up a Hybrid Connection</h3>
<p>In order to setup a Hybrid Connection you can connect to the Azure Preview portal and navigate to the Azure App Service you would like to configure the Hybrid Connection for.</p>
<p><a href="/assets/archive/2016/01/image-12.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-12.png" alt="image" width="610" height="311" border="0"></a></p>
<p>Select “Settings”, “Networking”, “Configure your hybrid connection endpoint”. A screen will appear on the left side with your current Hybrid Connections. To add a new one click Add on the top of the screen.</p>
<p><a href="/assets/archive/2016/01/image-13.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-13.png" alt="image" width="611" height="354" border="0"></a></p>
<p>Every time the process goes on a new screen will appear at the left side. After selecting the Add button you will get a option to create a new hybrid connection or use a existing hybrid connection.</p>
<p>Because this is the first time we do not have any hybrid connection we will select “New hybrid connection”.</p>
<p>You will now have to fill in the following information:</p>
<table border="0" width="400" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top" width="200"><strong>Name</strong></td>
<td valign="top" width="200">Unique Azure name for the hybrid connection</td>
</tr>
<tr>
<td valign="top" width="200"><strong>Hostname</strong></td>
<td valign="top" width="200">The hostname of the on-premise you will connect to. This can also be the FQDN or the IP Address</td>
</tr>
<tr>
<td valign="top" width="200"><strong>Port</strong></td>
<td valign="top" width="200">The static TCP-port you will connect to.</td>
</tr>
</tbody>
</table>
<p>After the information is filled in a BizTalk Service needs to be configured that will handle the connection (Service Bus Relay). You will configure a new one with a appropriate name.</p>
<p>By selecting Ok on both the BizTalk Service creation window and the New hybrid connection window the Hybrid Connection will be configured and created.</p>
<p>When this is done the hybrid connection will be shown in the hybrid connections overview of the Azure App Service.</p>
<p><a href="/assets/archive/2016/01/image-14.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-14.png" alt="image" width="521" height="181" border="0"></a></p>
<p>As you can see in the picture the hybrid connection is not yet connected. You can connect the hybrid connection by taking the following steps.</p>
<ol>
<li>Login to the server were you would like to install the Hybrid Connection Manager.</li>
<li>On the server navigate to the Azure Preview Portal.</li>
<li>Within the Azure Preview Portal navigate to the Azure App Service were you configured  the Hybrid Connection.</li>
<li>Open the Hybrid Connections overview by clicking: “Settings”, “Networking”, “Configure your hybrid connection endpoint”.</li>
<li>Click on the hybrid connection that we created.</li>
</ol>
<p>In the window that appears you can see that it isn’t configured. To configure the connection click on “Listener Setup”.</p>
<p><a href="/assets/archive/2016/01/image-15.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-15.png" alt="image" width="292" height="382" border="0"></a></p>
<p>Clicking on “Listener Setup” will open a window were you get the option to configure the Hybrid Connection. This can be done manually by using the connection strings or by installing en configuring it directly.</p>
<p>Let’s click “Install and Configure now”. This opens a new tab that will download an installation file.</p>
<p><a href="/assets/archive/2016/01/image-16.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-16.png" alt="image" width="402" height="225" border="0"></a></p>
<p>Run this application and it will make sure that the Hybrid Connection Manager will be installed and configured.</p>
<p><a href="/assets/archive/2016/01/image-17.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-17.png" alt="image" width="490" height="219" border="0"></a></p>
<p>After the installation is finished you will also notice that the configuration is successful within the azure preview portal.</p>
<p><a href="/assets/archive/2016/01/image-18.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/01/image_thumb-18.png" alt="image" width="456" height="159" border="0"></a></p>
<p>With the Hybrid Connection in place you can connect to your on-premise systems just like you would do when you deploy your service to a on-premise environment.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#azure" class="page__taxonomy-item" rel="tag">Azure</a><span class="sep">, </span>
    
      <a href="/tags/#hybrid-connection" class="page__taxonomy-item" rel="tag">Hybrid Connection</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#azure" class="page__taxonomy-item" rel="tag">Azure</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-01-18T13:27:19+01:00">January 18, 2016</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=maikvandergaag&amp;text=Azure+Hybrid+Connection%20http%3A%2F%2Flocalhost%3A4000%2F2016%2F01%2Fazure-hybrid-connection%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2016%2F01%2Fazure-hybrid-connection%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Flocalhost%3A4000%2F2016%2F01%2Fazure-hybrid-connection%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2016/01/deploy-azure-website-vsts-build/" class="pagination--pager" title="Deploy your Azure Website with VSTS Build
">Previous</a>
    
    
      <a href="/2016/02/azure-webjobs-made-simple/" class="pagination--pager" title="Azure WebJobs made simple
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/05/creating-a-logic-app-api-connection-that-uses-the-managed-identity-using-bicep/" rel="permalink">Creating a Logic App API Connection that uses the Managed Identity using Bicep
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Logic Apps in Azure provides a platform for building workflows that integrate with various services and APIs. When creating Logic Apps, you must often connec...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/03/unlocking-the-power-of-azure-app-registrations-a-guide-to-exposing-your-app-as-an-api-with-user-assignments-required-turned-on/" rel="permalink">“Exposing Azure App Registrations as Secure APIs: A Guide to Authentication with ‘User Assignments Required’ Turned On”
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Azure App Registrations are a powerful tool for managing resource access and integrating applications with Microsoft's cloud services. While these registrati...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/12/centrally-manage-your-app-configurations/" rel="permalink">Centrally manage your App Configurations
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The application landscape in Azure has grown significantly in recent years, with a wide range of tools and services available to help businesses build, deplo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/10/shift-left-security-with-microsoft-security-devops-msdo/" rel="permalink">Shift Left Security with Microsoft Security DevOps (MSDO)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">With the new capabilities released add Ignite, you are now even more capable of shifting security checks further to the left. In this article, I explain how ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script src="/assets/scripts/sidebarcontent.js"></script>
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2023 Maik van der Gaag. Powered by <a href="https://jekyllrb.com" rel="nofollow noopener noreferrer" target="_blank">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow noopener noreferrer" target="_blank">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
