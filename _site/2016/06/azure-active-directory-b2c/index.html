<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Azure Active Directory B2C - Microsoft Playground</title>
<meta name="description" content="Azure Active Directory B2C is a feature released a couple of weeks ago in Azure and is still in preview. Azure Active Directory B2C is a consumer identity and access management in the could, some key features of this component are:  Improve connection with your consumers. Pay only for what you use. Scale to a large amount of consumers. Let consumers use their social media accounts. Customizable workflow for consumer interactions.  AAD B2C can be attached to the following Identity providers:  Amazon Google LinkedIn Microsoft Facebook   Setting this up takes just a couple of steps. Doing this requires you to login to the old old Azure Management portal:  https://manage.windowsazure.com  On the bottom of the management portal click on “New”, select “App Services” and then “Active Directory”.  Fill in all the information and make sure, you select the checkbox “This is a B2C directory”. When done press the button and the Active Directory will be created.  When it is created identity providers, policies and applications can be registered. All of these settings need to be done within the new Azure Portal by navigating to the Azure Active Directory Management Blade. You can get to the specific configuration page by using the link in the old portal from the Azure Active Directory dashboard.  &nbsp; Identity providers can be added to active directory by using the Identity Providers option within the Azure Active Directory Management Blade. How the external Identity providers can be configured is described here: https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/ Applications are the applications you will be using in combination with the Azure Active Directory B2C. These can be added by going to the configuration page of the new portal. Within the new portal, define a application by clicking on “Applications” and then “Add” give the application a name and specify that it is a “Web App / Web API”. Make sure you specify a redirect URI to make sure the providers knows were to redirect you (this needs to be the URL of your application). Save the application to start with the definition of the policies. Policies are definitions that contain how certain actions will be performed and what data it will contain. Policies that can be created within the preview are:  Sign-Up Sign-In Sign-Up or Sign-In Profile editing Password reset  For these policies a couple of things can be configured as you can see in the below screenshot.   Identity providers: This specifies which Identity providers can make use of the policy. By default you have only one identity provider: Local Account (Azure Active Directory Account). Sign-up/in/edit attributes: This specifies which attributes will be used for the policy. Application claims: This specifies which attributes are added to the claim for your application. Token, session &amp; SSO config: Configuration for the sign-in policy. Multifactor authentication: Use multifactor authentication. Page UI customization: Use a customized page for your policy.  Create the policies you need for your application, for the sample application that can be found on GitHub (Link at the bottom of the page) you need three policies: Sign-Up, Sign-In and Profile editing. When the policies are ready test them by opening the policies window and clicking on a specific policy you created.  Click “Run now” and the policy will be run in the context of the application you have selected. If everything works correctly the sample application can be downloaded and configured. The configuration that needs to be adjusted and extended is in the Web.Config file: &lt;appSettings&gt;     &lt;add key=&quot;webpages:Version&quot; value=&quot;3.0.0.0&quot; /&gt;     &lt;add key=&quot;webpages:Enabled&quot; value=&quot;false&quot; /&gt;     &lt;add key=&quot;ClientValidationEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;UnobtrusiveJavaScriptEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;ida:Tenant&quot; value=&quot;[Enter the name of your B2C directory, e.g. contoso.onmicrosoft.com]&quot; /&gt;     &lt;add key=&quot;ida:ClientId&quot; value=&quot;[Enter the Application Id assigned to your app by the Azure portal, e.g.580e250c-8f26-49d0-bee8-1c078add1609]&quot; /&gt;     &lt;add key=&quot;ida:AadInstance&quot; value=&quot;https://login.microsoftonline.com/{0}{1}{2}&quot; /&gt;     &lt;add key=&quot;ida:RedirectUri&quot; value=&quot;https://localhost:44316/&quot; /&gt;     &lt;add key=&quot;ida:SignUpPolicyId&quot; value=&quot;[Enter your sign up policy name, e.g. b2c_1_sign_up]&quot; /&gt;     &lt;add key=&quot;ida:SignInPolicyId&quot; value=&quot;[Enter your sign in policy name, e.g. b2c_1_sign_in]&quot; /&gt;     &lt;add key=&quot;ida:UserProfilePolicyId&quot; value=&quot;[Enter your edit profile policy name, e.g. b2c_1_profile_edit]&quot; /&gt; &lt;/appSettings&gt;">


  <meta name="author" content="Maik van der Gaag">
  
  <meta property="article:author" content="Maik van der Gaag">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Microsoft Playground">
<meta property="og:title" content="Azure Active Directory B2C">
<meta property="og:url" content="http://localhost:4000/2016/06/azure-active-directory-b2c/">


  <meta property="og:description" content="Azure Active Directory B2C is a feature released a couple of weeks ago in Azure and is still in preview. Azure Active Directory B2C is a consumer identity and access management in the could, some key features of this component are:  Improve connection with your consumers. Pay only for what you use. Scale to a large amount of consumers. Let consumers use their social media accounts. Customizable workflow for consumer interactions.  AAD B2C can be attached to the following Identity providers:  Amazon Google LinkedIn Microsoft Facebook   Setting this up takes just a couple of steps. Doing this requires you to login to the old old Azure Management portal:  https://manage.windowsazure.com  On the bottom of the management portal click on “New”, select “App Services” and then “Active Directory”.  Fill in all the information and make sure, you select the checkbox “This is a B2C directory”. When done press the button and the Active Directory will be created.  When it is created identity providers, policies and applications can be registered. All of these settings need to be done within the new Azure Portal by navigating to the Azure Active Directory Management Blade. You can get to the specific configuration page by using the link in the old portal from the Azure Active Directory dashboard.  &nbsp; Identity providers can be added to active directory by using the Identity Providers option within the Azure Active Directory Management Blade. How the external Identity providers can be configured is described here: https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/ Applications are the applications you will be using in combination with the Azure Active Directory B2C. These can be added by going to the configuration page of the new portal. Within the new portal, define a application by clicking on “Applications” and then “Add” give the application a name and specify that it is a “Web App / Web API”. Make sure you specify a redirect URI to make sure the providers knows were to redirect you (this needs to be the URL of your application). Save the application to start with the definition of the policies. Policies are definitions that contain how certain actions will be performed and what data it will contain. Policies that can be created within the preview are:  Sign-Up Sign-In Sign-Up or Sign-In Profile editing Password reset  For these policies a couple of things can be configured as you can see in the below screenshot.   Identity providers: This specifies which Identity providers can make use of the policy. By default you have only one identity provider: Local Account (Azure Active Directory Account). Sign-up/in/edit attributes: This specifies which attributes will be used for the policy. Application claims: This specifies which attributes are added to the claim for your application. Token, session &amp; SSO config: Configuration for the sign-in policy. Multifactor authentication: Use multifactor authentication. Page UI customization: Use a customized page for your policy.  Create the policies you need for your application, for the sample application that can be found on GitHub (Link at the bottom of the page) you need three policies: Sign-Up, Sign-In and Profile editing. When the policies are ready test them by opening the policies window and clicking on a specific policy you created.  Click “Run now” and the policy will be run in the context of the application you have selected. If everything works correctly the sample application can be downloaded and configured. The configuration that needs to be adjusted and extended is in the Web.Config file: &lt;appSettings&gt;     &lt;add key=&quot;webpages:Version&quot; value=&quot;3.0.0.0&quot; /&gt;     &lt;add key=&quot;webpages:Enabled&quot; value=&quot;false&quot; /&gt;     &lt;add key=&quot;ClientValidationEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;UnobtrusiveJavaScriptEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;ida:Tenant&quot; value=&quot;[Enter the name of your B2C directory, e.g. contoso.onmicrosoft.com]&quot; /&gt;     &lt;add key=&quot;ida:ClientId&quot; value=&quot;[Enter the Application Id assigned to your app by the Azure portal, e.g.580e250c-8f26-49d0-bee8-1c078add1609]&quot; /&gt;     &lt;add key=&quot;ida:AadInstance&quot; value=&quot;https://login.microsoftonline.com/{0}{1}{2}&quot; /&gt;     &lt;add key=&quot;ida:RedirectUri&quot; value=&quot;https://localhost:44316/&quot; /&gt;     &lt;add key=&quot;ida:SignUpPolicyId&quot; value=&quot;[Enter your sign up policy name, e.g. b2c_1_sign_up]&quot; /&gt;     &lt;add key=&quot;ida:SignInPolicyId&quot; value=&quot;[Enter your sign in policy name, e.g. b2c_1_sign_in]&quot; /&gt;     &lt;add key=&quot;ida:UserProfilePolicyId&quot; value=&quot;[Enter your edit profile policy name, e.g. b2c_1_profile_edit]&quot; /&gt; &lt;/appSettings&gt;">



  <meta property="og:image" content="http://localhost:4000/assets/profile/profile.png">



  <meta name="twitter:site" content="@maikvandergaag">
  <meta name="twitter:title" content="Azure Active Directory B2C">
  <meta name="twitter:description" content="Azure Active Directory B2C is a feature released a couple of weeks ago in Azure and is still in preview. Azure Active Directory B2C is a consumer identity and access management in the could, some key features of this component are:  Improve connection with your consumers. Pay only for what you use. Scale to a large amount of consumers. Let consumers use their social media accounts. Customizable workflow for consumer interactions.  AAD B2C can be attached to the following Identity providers:  Amazon Google LinkedIn Microsoft Facebook   Setting this up takes just a couple of steps. Doing this requires you to login to the old old Azure Management portal:  https://manage.windowsazure.com  On the bottom of the management portal click on “New”, select “App Services” and then “Active Directory”.  Fill in all the information and make sure, you select the checkbox “This is a B2C directory”. When done press the button and the Active Directory will be created.  When it is created identity providers, policies and applications can be registered. All of these settings need to be done within the new Azure Portal by navigating to the Azure Active Directory Management Blade. You can get to the specific configuration page by using the link in the old portal from the Azure Active Directory dashboard.  &nbsp; Identity providers can be added to active directory by using the Identity Providers option within the Azure Active Directory Management Blade. How the external Identity providers can be configured is described here: https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/ Applications are the applications you will be using in combination with the Azure Active Directory B2C. These can be added by going to the configuration page of the new portal. Within the new portal, define a application by clicking on “Applications” and then “Add” give the application a name and specify that it is a “Web App / Web API”. Make sure you specify a redirect URI to make sure the providers knows were to redirect you (this needs to be the URL of your application). Save the application to start with the definition of the policies. Policies are definitions that contain how certain actions will be performed and what data it will contain. Policies that can be created within the preview are:  Sign-Up Sign-In Sign-Up or Sign-In Profile editing Password reset  For these policies a couple of things can be configured as you can see in the below screenshot.   Identity providers: This specifies which Identity providers can make use of the policy. By default you have only one identity provider: Local Account (Azure Active Directory Account). Sign-up/in/edit attributes: This specifies which attributes will be used for the policy. Application claims: This specifies which attributes are added to the claim for your application. Token, session &amp; SSO config: Configuration for the sign-in policy. Multifactor authentication: Use multifactor authentication. Page UI customization: Use a customized page for your policy.  Create the policies you need for your application, for the sample application that can be found on GitHub (Link at the bottom of the page) you need three policies: Sign-Up, Sign-In and Profile editing. When the policies are ready test them by opening the policies window and clicking on a specific policy you created.  Click “Run now” and the policy will be run in the context of the application you have selected. If everything works correctly the sample application can be downloaded and configured. The configuration that needs to be adjusted and extended is in the Web.Config file: &lt;appSettings&gt;     &lt;add key=&quot;webpages:Version&quot; value=&quot;3.0.0.0&quot; /&gt;     &lt;add key=&quot;webpages:Enabled&quot; value=&quot;false&quot; /&gt;     &lt;add key=&quot;ClientValidationEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;UnobtrusiveJavaScriptEnabled&quot; value=&quot;true&quot; /&gt;     &lt;add key=&quot;ida:Tenant&quot; value=&quot;[Enter the name of your B2C directory, e.g. contoso.onmicrosoft.com]&quot; /&gt;     &lt;add key=&quot;ida:ClientId&quot; value=&quot;[Enter the Application Id assigned to your app by the Azure portal, e.g.580e250c-8f26-49d0-bee8-1c078add1609]&quot; /&gt;     &lt;add key=&quot;ida:AadInstance&quot; value=&quot;https://login.microsoftonline.com/{0}{1}{2}&quot; /&gt;     &lt;add key=&quot;ida:RedirectUri&quot; value=&quot;https://localhost:44316/&quot; /&gt;     &lt;add key=&quot;ida:SignUpPolicyId&quot; value=&quot;[Enter your sign up policy name, e.g. b2c_1_sign_up]&quot; /&gt;     &lt;add key=&quot;ida:SignInPolicyId&quot; value=&quot;[Enter your sign in policy name, e.g. b2c_1_sign_in]&quot; /&gt;     &lt;add key=&quot;ida:UserProfilePolicyId&quot; value=&quot;[Enter your edit profile policy name, e.g. b2c_1_profile_edit]&quot; /&gt; &lt;/appSettings&gt;">
  <meta name="twitter:url" content="http://localhost:4000/2016/06/azure-active-directory-b2c/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/assets/profile/profile.png">
    
  

  



  <meta property="article:published_time" content="2016-06-10T13:48:40+02:00">






<link rel="canonical" href="http://localhost:4000/2016/06/azure-active-directory-b2c/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Maik van der Gaag",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/maikvandergaag","https://github.com/maikvandergaag"]
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Microsoft Playground Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<link rel="stylesheet" href="/assets/css/custom.css">

<!-- You can set your favicon here -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Microsoft Playground
          <span class="site-subtitle">debug.write('Architecture, Azure, Azure DevOps, Git, GitHub, DevOps');</span>
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/about">About</a>
            </li>
<li class="masthead__menu-item">
              <a href="/extensions">Extensions</a>
            </li>
<li class="masthead__menu-item">
              <a href="/speaking">Speaking</a>
            </li>
<li class="masthead__menu-item">
              <a href="/year-archive">Posts</a>
            </li>
<li class="masthead__menu-item">
              <a href="/categories">Categories</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/profile/profile.png" alt="Maik van der Gaag" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Maik van der Gaag</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am <strong>Microsoft Azure MVP</strong>, <strong>Speaker</strong> and <strong>Father</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Schiedam, The Netherlands</span>
        </li>
      

      
        
          
            <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Azure Active Directory B2C">
    <meta itemprop="description" content='Azure Active Directory B2C is a feature released a couple of weeks ago in Azure and is still in preview. Azure Active Directory B2C is a consumer identity and access management in the could, some key features of this component are:Improve connection with your consumers.Pay only for what you use.Scale to a large amount of consumers.Let consumers use their social media accounts.Customizable workflow for consumer interactions.AAD B2C can be attached to the following Identity providers:AmazonGoogleLinkedInMicrosoftFacebookSetting this up takes just a couple of steps. Doing this requires you to login to the old old Azure Management portal:https://manage.windowsazure.comOn the bottom of the management portal click on “New”, select “App Services” and then “Active Directory”.Fill in all the information and make sure, you select the checkbox “This is a B2C directory”. When done press the button and the Active Directory will be created.When it is created identity providers, policies and applications can be registered. All of these settings need to be done within the new Azure Portal by navigating to the Azure Active Directory Management Blade. You can get to the specific configuration page by using the link in the old portal from the Azure Active Directory dashboard. Identity providers can be added to active directory by using the Identity Providers option within the Azure Active Directory Management Blade. How the external Identity providers can be configured is described here: https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/Applications are the applications you will be using in combination with the Azure Active Directory B2C. These can be added by going to the configuration page of the new portal. Within the new portal, define a application by clicking on “Applications” and then “Add” give the application a name and specify that it is a “Web App / Web API”. Make sure you specify a redirect URI to make sure the providers knows were to redirect you (this needs to be the URL of your application).Save the application to start with the definition of the policies. Policies are definitions that contain how certain actions will be performed and what data it will contain. Policies that can be created within the preview are:Sign-UpSign-InSign-Up or Sign-InProfile editingPassword resetFor these policies a couple of things can be configured as you can see in the below screenshot.Identity providers: This specifies which Identity providers can make use of the policy. By default you have only one identity provider: Local Account (Azure Active Directory Account).Sign-up/in/edit attributes: This specifies which attributes will be used for the policy.Application claims: This specifies which attributes are added to the claim for your application.Token, session &amp; SSO config: Configuration for the sign-in policy.Multifactor authentication: Use multifactor authentication.Page UI customization: Use a customized page for your policy.Create the policies you need for your application, for the sample application that can be found on GitHub (Link at the bottom of the page) you need three policies: Sign-Up, Sign-In and Profile editing.When the policies are ready test them by opening the policies window and clicking on a specific policy you created.Click “Run now” and the policy will be run in the context of the application you have selected. If everything works correctly the sample application can be downloaded and configured. The configuration that needs to be adjusted and extended is in the Web.Config file:&lt;appSettings&gt;    &lt;add key="webpages:Version" value="3.0.0.0" /&gt;    &lt;add key="webpages:Enabled" value="false" /&gt;    &lt;add key="ClientValidationEnabled" value="true" /&gt;    &lt;add key="UnobtrusiveJavaScriptEnabled" value="true" /&gt;    &lt;add key="ida:Tenant" value="[Enter the name of your B2C directory, e.g. contoso.onmicrosoft.com]" /&gt;    &lt;add key="ida:ClientId" value="[Enter the Application Id assigned to your app by the Azure portal, e.g.580e250c-8f26-49d0-bee8-1c078add1609]" /&gt;    &lt;add key="ida:AadInstance" value="https://login.microsoftonline.com/{0}{1}{2}" /&gt;    &lt;add key="ida:RedirectUri" value="https://localhost:44316/" /&gt;    &lt;add key="ida:SignUpPolicyId" value="[Enter your sign up policy name, e.g. b2c_1_sign_up]" /&gt;    &lt;add key="ida:SignInPolicyId" value="[Enter your sign in policy name, e.g. b2c_1_sign_in]" /&gt;    &lt;add key="ida:UserProfilePolicyId" value="[Enter your edit profile policy name, e.g. b2c_1_profile_edit]" /&gt;&lt;/appSettings&gt;'>
    <meta itemprop="datePublished" content="2016-06-10T13:48:40+02:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Azure Active Directory B2C
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Azure Active Directory B2C is a feature released a couple of weeks ago in Azure and is still in preview. Azure Active Directory B2C is a consumer identity and access management in the could, some key features of this component are:</p>
<ul>
<li>Improve connection with your consumers.</li>
<li>Pay only for what you use.</li>
<li>Scale to a large amount of consumers.</li>
<li>Let consumers use their social media accounts.</li>
<li>Customizable workflow for consumer interactions.</li>
</ul>
<p>AAD B2C can be attached to the following Identity providers:</p>
<ul>
<li>Amazon</li>
<li>Google</li>
<li>LinkedIn</li>
<li>Microsoft</li>
<li>Facebook</li>
</ul>
<p><a href="/assets/archive/2016/06/image.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="Azure Active Directory B2C" src="/assets/archive/2016/06/image_thumb.png" alt="Azure Active Directory B2C" width="467" height="479" border="0"></a></p>
<p>Setting this up takes just a couple of steps. Doing this requires you to login to the old old Azure Management portal:</p>
<ul>
<li><a href="https://manage.windowsazure.com" target="_blank" rel="noopener noreferrer">https://manage.windowsazure.com</a></li>
</ul>
<p>On the bottom of the management portal click on “New”, select “App Services” and then “Active Directory”.</p>
<p><a href="/assets/archive/2016/06/snip_20160609165638.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="Create Azure Active Directory" src="/assets/archive/2016/06/snip_20160609165638_thumb.png" alt="Create Azure Active Directory" width="397" height="331" border="0"></a></p>
<p>Fill in all the information and make sure, you select the checkbox “This is a B2C directory”. When done press the button and the Active Directory will be created.</p>
<p><a href="/assets/archive/2016/06/Active-Directory-B2C-Creating.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="Active Directory B2C - Creating" src="/assets/archive/2016/06/Active-Directory-B2C-Creating_thumb.png" alt="Active Directory B2C - Creating" width="594" height="44" border="0"></a></p>
<p>When it is created identity providers, policies and applications can be registered. All of these settings need to be done within the new Azure Portal by navigating to the Azure Active Directory Management Blade. You can get to the specific configuration page by using the link in the old portal from the Azure Active Directory dashboard.</p>
<p><a href="/assets/archive/2016/06/Portal-Link.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="Portal Link" src="/assets/archive/2016/06/Portal-Link_thumb.png" alt="Portal Link" width="597" height="334" border="0"></a></p>
<p> </p>
<p>Identity providers can be added to active directory by using the Identity Providers option within the Azure Active Directory Management Blade. How the external Identity providers can be configured is described here: <a title="https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/" href="https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/" target="_blank" rel="noopener noreferrer">https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/</a></p>
<p>Applications are the applications you will be using in combination with the Azure Active Directory B2C. These can be added by going to the configuration page of the new portal. Within the new portal, define a application by clicking on “Applications” and then “Add” give the application a name and specify that it is a “Web App / Web API”. Make sure you specify a redirect URI to make sure the providers knows were to redirect you (this needs to be the URL of your application).</p>
<p>Save the application to start with the definition of the policies. Policies are definitions that contain how certain actions will be performed and what data it will contain. Policies that can be created within the preview are:</p>
<ul>
<li>Sign-Up</li>
<li>Sign-In</li>
<li>Sign-Up or Sign-In</li>
<li>Profile editing</li>
<li>Password reset</li>
</ul>
<p>For these policies a couple of things can be configured as you can see in the below screenshot.</p>
<p><a href="/assets/archive/2016/06/image-1.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/06/image_thumb-1.png" alt="image" width="185" height="235" border="0"></a></p>
<ul>
<li>
<strong>Identity providers</strong>: This specifies which Identity providers can make use of the policy. By default you have only one identity provider: Local Account (Azure Active Directory Account).</li>
<li>
<strong>Sign-up/in/edit attributes:</strong> This specifies which attributes will be used for the policy.</li>
<li>
<strong>Application claims: </strong>This specifies which attributes are added to the claim for your application.</li>
<li>
<strong>Token, session &amp; SSO config: </strong>Configuration for the sign-in policy.</li>
<li>
<strong>Multifactor authentication: </strong>Use multifactor authentication.</li>
<li>
<strong>Page UI customization</strong>: Use a customized page for your policy.</li>
</ul>
<p>Create the policies you need for your application, for the sample application that can be found on GitHub (Link at the bottom of the page) you need three policies: Sign-Up, Sign-In and Profile editing.</p>
<p>When the policies are ready test them by opening the policies window and clicking on a specific policy you created.</p>
<p><a href="/assets/archive/2016/06/image-2.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" src="/assets/archive/2016/06/image_thumb-2.png" alt="image" width="432" height="320" border="0"></a></p>
<p>Click “Run now” and the policy will be run in the context of the application you have selected. If everything works correctly the sample application can be downloaded and configured. The configuration that needs to be adjusted and extended is in the Web.Config file:</p>
<pre class="highlight">&lt;appSettings&gt;
    &lt;add key="webpages:Version" value="3.0.0.0" /&gt;
    &lt;add key="webpages:Enabled" value="false" /&gt;
    &lt;add key="ClientValidationEnabled" value="true" /&gt;
    &lt;add key="UnobtrusiveJavaScriptEnabled" value="true" /&gt;
    &lt;add key="ida:Tenant" value="[Enter the name of your B2C directory, e.g. contoso.onmicrosoft.com]" /&gt;
    &lt;add key="ida:ClientId" value="[Enter the Application Id assigned to your app by the Azure portal, e.g.580e250c-8f26-49d0-bee8-1c078add1609]" /&gt;
    &lt;add key="ida:AadInstance" value="https://login.microsoftonline.com/{0}{1}{2}" /&gt;
    &lt;add key="ida:RedirectUri" value="https://localhost:44316/" /&gt;
    &lt;add key="ida:SignUpPolicyId" value="[Enter your sign up policy name, e.g. b2c_1_sign_up]" /&gt;
    &lt;add key="ida:SignInPolicyId" value="[Enter your sign in policy name, e.g. b2c_1_sign_in]" /&gt;
    &lt;add key="ida:UserProfilePolicyId" value="[Enter your edit profile policy name, e.g. b2c_1_profile_edit]" /&gt;
&lt;/appSettings&gt;

</pre>
<p><strong>Problems</strong></p>
<p>Azure Active Directory is in preview and that is why you can run into specific problems. One problem that I encountered was the one in the screenshot below:</p>
<ul>
<li>The provided application with ID ‘’ is not valid against this service. Please use an application created via the B2C portal an try again.</li>
</ul>
<p><a href="/assets/archive/2016/06/snip_20160609173320.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;" title="snip_20160609173320" src="/assets/archive/2016/06/snip_20160609173320_thumb.png" alt="snip_20160609173320" width="240" height="175" border="0"></a></p>
<p>I checked the ID of the application and all looked fine. The problem was that I added the application to the Azure Active Directory B2C in the old Azure portal, the URL constructed for that type of applications are constructed differently (v1.0 vs. v2.0) then the way used in the Azure Portal Blade.</p>
<p>Recreating the application in the Azure Blade fixed the issue.</p>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-devquickstarts-web-dotnet/" target="_blank" rel="noopener noreferrer">Quick Start Guide</a></li>
<li><a href="https://github.com/AzureADQuickStarts/B2C-WebApp-OpenIdConnect-DotNet/archive/complete.zip" target="_blank" rel="noopener noreferrer">Direct download sample application Microsoft</a></li>
<li><a href="https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-setup-msa-app/" target="_blank" rel="noopener noreferrer">Configure Identity providers</a></li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#azure-active-directory" class="page__taxonomy-item" rel="tag">Azure Active Directory</a><span class="sep">, </span>
    
      <a href="/tags/#b2c" class="page__taxonomy-item" rel="tag">B2C</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#azure" class="page__taxonomy-item" rel="tag">Azure</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-06-10T13:48:40+02:00">June 10, 2016</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=maikvandergaag&amp;text=Azure+Active+Directory+B2C%20http%3A%2F%2Flocalhost%3A4000%2F2016%2F06%2Fazure-active-directory-b2c%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2016%2F06%2Fazure-active-directory-b2c%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Flocalhost%3A4000%2F2016%2F06%2Fazure-active-directory-b2c%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2016/05/send-trough-all-sharepoint-items-from-the-get-items-action-in-azure-logic-apps/" class="pagination--pager" title="Pass trough all SharePoint items from the “Get Items” action in Azure Logic Apps
">Previous</a>
    
    
      <a href="/2016/06/azure-app-service-and-client-certificate-authentication/" class="pagination--pager" title="Azure App Service and Client Certificate Authentication
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/05/creating-a-logic-app-api-connection-that-uses-the-managed-identity-using-bicep/" rel="permalink">Creating a Logic App API Connection that uses the Managed Identity using Bicep
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Logic Apps in Azure provides a platform for building workflows that integrate with various services and APIs. When creating Logic Apps, you must often connec...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/03/unlocking-the-power-of-azure-app-registrations-a-guide-to-exposing-your-app-as-an-api-with-user-assignments-required-turned-on/" rel="permalink">“Exposing Azure App Registrations as Secure APIs: A Guide to Authentication with ‘User Assignments Required’ Turned On”
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Azure App Registrations are a powerful tool for managing resource access and integrating applications with Microsoft's cloud services. While these registrati...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/12/centrally-manage-your-app-configurations/" rel="permalink">Centrally manage your App Configurations
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The application landscape in Azure has grown significantly in recent years, with a wide range of tools and services available to help businesses build, deplo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/10/shift-left-security-with-microsoft-security-devops-msdo/" rel="permalink">Shift Left Security with Microsoft Security DevOps (MSDO)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">With the new capabilities released add Ignite, you are now even more capable of shifting security checks further to the left. In this article, I explain how ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script src="/assets/scripts/sidebarcontent.js"></script>
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2023 Maik van der Gaag. Powered by <a href="https://jekyllrb.com" rel="nofollow noopener noreferrer" target="_blank">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow noopener noreferrer" target="_blank">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
