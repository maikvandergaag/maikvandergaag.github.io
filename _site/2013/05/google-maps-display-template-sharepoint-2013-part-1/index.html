<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Google Maps Display Template – SharePoint 2013 – Part 1 - Microsoft Playground</title>
<meta name="description" content="As the most of you will know by now is that SharePoint 2013 has a new web part called the “Content Search” web part. This web part display’s search result by using specific display templates. For one of our clients we were asked to display location/office information on a Google Maps card based on information they save in a list.&nbsp; We first had the idea of using the new Geo Location fields that are pretty awesome. But we had a hard requirement for using Google Maps because they already had a licence for using that. If you want more information about the Geo Location field you can read about here:  Display Location Maps within SharePoint Lists using Geolocation  The easiest way to display this information is retrieving the results by its content type with the Content Search web part and using a Google Maps Display Template to display those results. There are two primary types of display templates:   Control templates determine the overall structure of how the results are presented. Includes lists, lists with paging, and slide shows.   Item templates determine how each result in the set is displayed. Includes images, text, video, and other items.   The control display template defines the HTML structure for the overall layout and the item template defines the HTML structure for the item. If you want to read more information about display templates here is a good article: SharePoint 2013 Design Manager display templates In this Part we will be creating the item template. The easiest way to create a new item display template is using SharePoint Designer and create a copy of another display template. The display templates can be found here:  All Files - _catalogs – masterpage – Display Templates – Content Web Parts  To get a new item display template you will need to copy an existing item template, for this example we will create a copy of the “Item_TwoLines.html” and rename it to “Item_GoogleMarker.html&quot;. When you open the file in edit mode you will see that there is a Title attribute on the top of the page. Change this title to Google Maps Marker because the item we will retrieve will represent markers on the map. The result we will be retrieving will have the following information:  Title   Longitude   Latitude   Description   Address   Site Url (Url to a SharePoint site)  In order to get this information from search you will have to create managed properties for the specific field. In this post I will not tell you how to create those for more information you can read this post or look on MSDN for more information:  Creating Metadata Properties through code – SharePoint 2010  If you look further in the display template you will see the property “ManagedPropertyMapping” this will map the properties to specific variables in the file. To which property they are mapped can be changed in the tool part of the web part   &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Line 2}:&amp;#39;&amp;#39;,&amp;#39;FileExtension&amp;#39;,&amp;#39;SecondaryFileExtension&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  Each property mapping exists out of three variables separated by &amp;#39;,&amp;#39; and the complete properties are separated by ‘, ‘.  For example “&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;”:   The first “Line 1” will represents the value in the display template.  The second “{Line 1}” represents the description and is displayed in the tool part. You can change this to each value you want.  The third “Title” is the default managed property it is mapped to.  For our item template we will extend the property with our own values we need to be able to retrieve the right values from the search engine. &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  When this is done you can change the “MasterPageDescription” property to the value of your choice. When you go further down into the display template the values are retrieved within the div called “TwoLines”. &lt;!--#_ var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + &quot;_2lines_&quot;);">


  <meta name="author" content="Maik van der Gaag">
  
  <meta property="article:author" content="Maik van der Gaag">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Microsoft Playground">
<meta property="og:title" content="Google Maps Display Template – SharePoint 2013 – Part 1">
<meta property="og:url" content="http://localhost:4000/2013/05/google-maps-display-template-sharepoint-2013-part-1/">


  <meta property="og:description" content="As the most of you will know by now is that SharePoint 2013 has a new web part called the “Content Search” web part. This web part display’s search result by using specific display templates. For one of our clients we were asked to display location/office information on a Google Maps card based on information they save in a list.&nbsp; We first had the idea of using the new Geo Location fields that are pretty awesome. But we had a hard requirement for using Google Maps because they already had a licence for using that. If you want more information about the Geo Location field you can read about here:  Display Location Maps within SharePoint Lists using Geolocation  The easiest way to display this information is retrieving the results by its content type with the Content Search web part and using a Google Maps Display Template to display those results. There are two primary types of display templates:   Control templates determine the overall structure of how the results are presented. Includes lists, lists with paging, and slide shows.   Item templates determine how each result in the set is displayed. Includes images, text, video, and other items.   The control display template defines the HTML structure for the overall layout and the item template defines the HTML structure for the item. If you want to read more information about display templates here is a good article: SharePoint 2013 Design Manager display templates In this Part we will be creating the item template. The easiest way to create a new item display template is using SharePoint Designer and create a copy of another display template. The display templates can be found here:  All Files - _catalogs – masterpage – Display Templates – Content Web Parts  To get a new item display template you will need to copy an existing item template, for this example we will create a copy of the “Item_TwoLines.html” and rename it to “Item_GoogleMarker.html&quot;. When you open the file in edit mode you will see that there is a Title attribute on the top of the page. Change this title to Google Maps Marker because the item we will retrieve will represent markers on the map. The result we will be retrieving will have the following information:  Title   Longitude   Latitude   Description   Address   Site Url (Url to a SharePoint site)  In order to get this information from search you will have to create managed properties for the specific field. In this post I will not tell you how to create those for more information you can read this post or look on MSDN for more information:  Creating Metadata Properties through code – SharePoint 2010  If you look further in the display template you will see the property “ManagedPropertyMapping” this will map the properties to specific variables in the file. To which property they are mapped can be changed in the tool part of the web part   &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Line 2}:&amp;#39;&amp;#39;,&amp;#39;FileExtension&amp;#39;,&amp;#39;SecondaryFileExtension&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  Each property mapping exists out of three variables separated by &amp;#39;,&amp;#39; and the complete properties are separated by ‘, ‘.  For example “&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;”:   The first “Line 1” will represents the value in the display template.  The second “{Line 1}” represents the description and is displayed in the tool part. You can change this to each value you want.  The third “Title” is the default managed property it is mapped to.  For our item template we will extend the property with our own values we need to be able to retrieve the right values from the search engine. &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  When this is done you can change the “MasterPageDescription” property to the value of your choice. When you go further down into the display template the values are retrieved within the div called “TwoLines”. &lt;!--#_ var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + &quot;_2lines_&quot;);">



  <meta property="og:image" content="http://localhost:4000/assets/profile/profile.png">



  <meta name="twitter:site" content="@maikvandergaag">
  <meta name="twitter:title" content="Google Maps Display Template – SharePoint 2013 – Part 1">
  <meta name="twitter:description" content="As the most of you will know by now is that SharePoint 2013 has a new web part called the “Content Search” web part. This web part display’s search result by using specific display templates. For one of our clients we were asked to display location/office information on a Google Maps card based on information they save in a list.&nbsp; We first had the idea of using the new Geo Location fields that are pretty awesome. But we had a hard requirement for using Google Maps because they already had a licence for using that. If you want more information about the Geo Location field you can read about here:  Display Location Maps within SharePoint Lists using Geolocation  The easiest way to display this information is retrieving the results by its content type with the Content Search web part and using a Google Maps Display Template to display those results. There are two primary types of display templates:   Control templates determine the overall structure of how the results are presented. Includes lists, lists with paging, and slide shows.   Item templates determine how each result in the set is displayed. Includes images, text, video, and other items.   The control display template defines the HTML structure for the overall layout and the item template defines the HTML structure for the item. If you want to read more information about display templates here is a good article: SharePoint 2013 Design Manager display templates In this Part we will be creating the item template. The easiest way to create a new item display template is using SharePoint Designer and create a copy of another display template. The display templates can be found here:  All Files - _catalogs – masterpage – Display Templates – Content Web Parts  To get a new item display template you will need to copy an existing item template, for this example we will create a copy of the “Item_TwoLines.html” and rename it to “Item_GoogleMarker.html&quot;. When you open the file in edit mode you will see that there is a Title attribute on the top of the page. Change this title to Google Maps Marker because the item we will retrieve will represent markers on the map. The result we will be retrieving will have the following information:  Title   Longitude   Latitude   Description   Address   Site Url (Url to a SharePoint site)  In order to get this information from search you will have to create managed properties for the specific field. In this post I will not tell you how to create those for more information you can read this post or look on MSDN for more information:  Creating Metadata Properties through code – SharePoint 2010  If you look further in the display template you will see the property “ManagedPropertyMapping” this will map the properties to specific variables in the file. To which property they are mapped can be changed in the tool part of the web part   &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Line 2}:&amp;#39;&amp;#39;,&amp;#39;FileExtension&amp;#39;,&amp;#39;SecondaryFileExtension&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  Each property mapping exists out of three variables separated by &amp;#39;,&amp;#39; and the complete properties are separated by ‘, ‘.  For example “&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;”:   The first “Line 1” will represents the value in the display template.  The second “{Line 1}” represents the description and is displayed in the tool part. You can change this to each value you want.  The third “Title” is the default managed property it is mapped to.  For our item template we will extend the property with our own values we need to be able to retrieve the right values from the search engine. &lt;mso:ManagedPropertyMapping msdt:dt=&quot;string&quot;&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;  When this is done you can change the “MasterPageDescription” property to the value of your choice. When you go further down into the display template the values are retrieved within the div called “TwoLines”. &lt;!--#_ var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + &quot;_2lines_&quot;);">
  <meta name="twitter:url" content="http://localhost:4000/2013/05/google-maps-display-template-sharepoint-2013-part-1/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/assets/profile/profile.png">
    
  

  



  <meta property="article:published_time" content="2013-05-15T07:02:04+02:00">






<link rel="canonical" href="http://localhost:4000/2013/05/google-maps-display-template-sharepoint-2013-part-1/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Maik van der Gaag",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/maikvandergaag","https://github.com/maikvandergaag"]
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Microsoft Playground Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<link rel="stylesheet" href="/assets/css/custom.css">

<!-- You can set your favicon here -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Microsoft Playground
          <span class="site-subtitle">debug.write('Architecture, Azure, Azure DevOps, Git, GitHub, DevOps');</span>
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/about">About</a>
            </li>
<li class="masthead__menu-item">
              <a href="/extensions">Extensions</a>
            </li>
<li class="masthead__menu-item">
              <a href="/speaking">Speaking</a>
            </li>
<li class="masthead__menu-item">
              <a href="/year-archive">Posts</a>
            </li>
<li class="masthead__menu-item">
              <a href="/categories">Categories</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/profile/profile.png" alt="Maik van der Gaag" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Maik van der Gaag</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am <strong>Microsoft Azure MVP</strong>, <strong>Speaker</strong> and <strong>Father</strong>.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Schiedam, The Netherlands</span>
        </li>
      

      
        
          
            <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Google Maps Display Template – SharePoint 2013 – Part 1">
    <meta itemprop="description" content='As the most of you will know by now is that SharePoint 2013 has a new web part called the “Content Search” web part. This web part display’s search result by using specific display templates.For one of our clients we were asked to display location/office information on a Google Maps card based on information they save in a list.  We first had the idea of using the new Geo Location fields that are pretty awesome. But we had a hard requirement for using Google Maps because they already had a licence for using that.If you want more information about the Geo Location field you can read about here:Display Location Maps within SharePoint Lists using GeolocationThe easiest way to display this information is retrieving the results by its content type with the Content Search web part and using a Google Maps Display Template to display those results.There are two primary types of display templates:Control templates determine the overall structure of how the results are presented. Includes lists, lists with paging, and slide shows.Item templates determine how each result in the set is displayed. Includes images, text, video, and other items.The control display template defines the HTML structure for the overall layout and the item template defines the HTML structure for the item.If you want to read more information about display templates here is a good article:SharePoint 2013 Design Manager display templatesIn this Part we will be creating the item template. The easiest way to create a new item display template is using SharePoint Designer and create a copy of another display template.The display templates can be found here:All Files - _catalogs – masterpage – Display Templates – Content Web PartsTo get a new item display template you will need to copy an existing item template, for this example we will create a copy of the “Item_TwoLines.html” and rename it to “Item_GoogleMarker.html".When you open the file in edit mode you will see that there is a Title attribute on the top of the page. Change this title to Google Maps Marker because the item we will retrieve will represent markers on the map.The result we will be retrieving will have the following information:Title  Longitude  Latitude  Description  Address  Site Url (Url to a SharePoint site)In order to get this information from search you will have to create managed properties for the specific field. In this post I will not tell you how to create those for more information you can read this post or look on MSDN for more information:Creating Metadata Properties through code – SharePoint 2010If you look further in the display template you will see the property “ManagedPropertyMapping” this will map the properties to specific variables in the file. To which property they are mapped can be changed in the tool part of the web part &lt;mso:ManagedPropertyMapping msdt:dt="string"&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Line 2}:&amp;#39;&amp;#39;,&amp;#39;FileExtension&amp;#39;,&amp;#39;SecondaryFileExtension&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;Each property mapping exists out of three variables separated by &amp;#39;,&amp;#39; and the complete properties are separated by ‘, ‘. For example “&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;”: The first “Line 1” will represents the value in the display template.The second “{Line 1}” represents the description and is displayed in the tool part. You can change this to each value you want.The third “Title” is the default managed property it is mapped to.For our item template we will extend the property with our own values we need to be able to retrieve the right values from the search engine.&lt;mso:ManagedPropertyMapping msdt:dt="string"&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;When this is done you can change the “MasterPageDescription” property to the value of your choice.When you go further down into the display template the values are retrieved within the div called “TwoLines”.&lt;!--#_var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + "_2lines_");'>
    <meta itemprop="datePublished" content="2013-05-15T07:02:04+02:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Google Maps Display Template – SharePoint 2013 – Part 1
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>As the most of you will know by now is that SharePoint 2013 has a new web part called the “Content Search” web part. This web part display’s search result by using specific display templates.</p>
<p>For one of our clients we were asked to display location/office information on a Google Maps card based on information they save in a list.  We first had the idea of using the new Geo Location fields that are pretty awesome. But we had a hard requirement for using Google Maps because they already had a licence for using that.</p>
<p>If you want more information about the Geo Location field you can read about here:</p>
<ul>
<li><a title="Display Location Maps within SharePoint Lists using Geolocation" href="http://blogs.msdn.com/b/mvpawardprogram/archive/2013/02/11/display-location-maps-within-sharepoint-lists-using-geolocation-column-in-sharepoint-2013.aspx" target="_blank" rel="noopener noreferrer">Display Location Maps within SharePoint Lists using Geolocation</a></li>
</ul>
<p>The easiest way to display this information is retrieving the results by its content type with the Content Search web part and using a Google Maps Display Template to display those results.</p>
<p>There are two primary types of display templates:
</p>
<ul>
<li>
<p>Control templates determine the overall structure of how the results are presented. Includes lists, lists with paging, and slide shows.</p>
</li>
<li>
<p>Item templates determine how each result in the set is displayed. Includes images, text, video, and other items.</p>
</li>
</ul>
<p>The control display template defines the HTML structure for the overall layout and the item template defines the HTML structure for the item.
</p>
<p>If you want to read more information about display templates here is a good article:
</p>
<p><a title="http://msdn.microsoft.com/en-us/library/jj945138.aspx" href="http://msdn.microsoft.com/en-us/library/jj945138.aspx" target="_blank" rel="noopener noreferrer">SharePoint 2013 Design Manager display templates</a>
</p>
<p>In this Part we will be creating the item template. The easiest way to create a new item display template is using SharePoint Designer and create a copy of another display template.
</p>
<p>The display templates can be found here:<br>
</p>
<blockquote>
<p>All Files - _catalogs – masterpage – Display Templates – Content Web Parts</p>
</blockquote>
<p>To get a new item display template you will need to copy an existing item template, for this example we will create a copy of the “Item_TwoLines.html” and rename it to “Item_GoogleMarker.html".
</p>
<p>When you open the file in edit mode you will see that there is a Title attribute on the top of the page. Change this title to Google Maps Marker because the item we will retrieve will represent markers on the map.
</p>
<p>The result we will be retrieving will have the following information:
</p>
<ul>
<li>Title  </li>
<li>Longitude  </li>
<li>Latitude  </li>
<li>Description  </li>
<li>Address  </li>
<li>Site Url (Url to a SharePoint site)</li>
</ul>
<p>In order to get this information from search you will have to create managed properties for the specific field. In this post I will not tell you how to create those for more information you can read this post or look on MSDN for more information:</p>
<ul>
<li><a title="Permalink to Creating Metadata Properties through code – SharePoint 2010" href="http://msftplayground.com/2010/09/creating-metadata-properties-through-code-sharepoint-2010/" target="_blank" rel="noopener noreferrer">Creating Metadata Properties through code – SharePoint 2010</a></li>
</ul>
<p>If you look further in the display template you will see the property “ManagedPropertyMapping” this will map the properties to specific variables in the file. To which property they are mapped can be changed in the tool part of the web part</p>
<p><a href="http://msftplayground.com/wp-content/uploads/2013/05/image.png" target="_blank" rel="noopener noreferrer"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="/assets/archive/2013/05/image_thumb.png" width="160" height="240"></a> </p>
<pre class="highlight">&lt;mso:ManagedPropertyMapping msdt:dt="string"&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Line 2}:&amp;#39;&amp;#39;,&amp;#39;FileExtension&amp;#39;,&amp;#39;SecondaryFileExtension&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;
</pre>
<p>Each property mapping exists out of three variables separated by &amp;#39;,&amp;#39; and the complete properties are separated by ‘, ‘. </p>
<p>For example “&amp;#39;Line 1&amp;#39;{Line 1}:&amp;#39;Title&amp;#39;”: </p>
<ul>
<li>The first “Line 1” will represents the value in the display template.
</li>
<li>The second “{Line 1}” represents the description and is displayed in the tool part. You can change this to each value you want.
</li>
<li>The third “Title” is the default managed property it is mapped to.</li>
</ul>
<p>For our item template we will extend the property with our own values we need to be able to retrieve the right values from the search engine.</p>
<pre class="highlight">&lt;mso:ManagedPropertyMapping msdt:dt="string"&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;
</pre>
<p>When this is done you can change the “MasterPageDescription” property to the value of your choice.</p>
<p>When you go further down into the display template the values are retrieved within the div called “TwoLines”.</p>
<pre class="highlight">&lt;!--#_
var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + "_2lines_");

var linkURL = $getItemValue(ctx, "Link URL");
linkURL.overrideValueRenderer($urlHtmlEncode);
var iconURL = Srch.ContentBySearch.getIconSourceFromItem(ctx.CurrentItem);

var line1 = $getItemValue(ctx, "Line 1");
var line2 = $getItemValue(ctx, "Line 2");
line1.overrideValueRenderer($contentLineText);
line2.overrideValueRenderer($contentLineText);

var containerId = encodedId + "container";
var pictureLinkId = encodedId + "pictureLink";
var pictureId = encodedId + "picture";
var dataContainerId = encodedId + "dataContainer";
var line1LinkId = encodedId + "line1Link";
var line1Id = encodedId + "line1";
var line2Id = encodedId + "line2";
_#--&gt;
</pre>
<p>Replace this by the following code in which we get all of the values from our properties and use basically the same code the was in the original template:</p>
<pre class="highlight">&lt;!--#_
  var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + "_2lines_");
  var linkURL = $getItemValue(ctx, "Link URL");
  linkURL.overrideValueRenderer($urlHtmlEncode);
  var iconURL = Srch.ContentBySearch.getIconSourceFromItem(ctx.CurrentItem);
       
  var title = $getItemValue(ctx, "Line 1");
  var latitude = $getItemValue(ctx, "Line 2");
  var longtitude = $getItemValue(ctx, "Line 3");
  var description = $getItemValue(ctx, "Line 4");
  var address = $getItemValue(ctx, "Line 5");
  var siteUrl = $getItemValue(ctx, "Line 6");
  title.overrideValueRenderer($contentLineText);
  latitude.overrideValueRenderer($contentLineText);
  longtitude.overrideValueRenderer($contentLineText);
  siteUrl.overrideValueRenderer($contentLineText);
      
  var itemId = ctx.CurrentItemIdx;
_#--&gt;
</pre>
<p>Now that we have all of the values for a item. It is time to write the HTML we want for the display template. The easiest way is to place all of the information about the marker in a hidden input field. In the control template we will then retrieve the information and display it on the map.</p>
<p>The complete display template will then look like this:</p>
<pre class="highlight">&lt;html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"&gt; 
&lt;head&gt;
&lt;title&gt;Google Map Marker&lt;/title&gt;

&lt;!--[if gte mso 9]&gt;&lt;xml&gt;
&lt;mso:CustomDocumentProperties&gt;
&lt;mso:TemplateHidden msdt:dt="string"&gt;0&lt;/mso:TemplateHidden&gt;
&lt;mso:ManagedPropertyMapping msdt:dt="string"&gt;&amp;#39;Link URL&amp;#39;{Link URL}:&amp;#39;Path&amp;#39;,&amp;#39;Line 1&amp;#39;{Title}:&amp;#39;Title&amp;#39;,&amp;#39;Line 2&amp;#39;{Latitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 3&amp;#39;{Longtitude}:&amp;#39;Title&amp;#39;,&amp;#39;Line 4&amp;#39;{Description}:&amp;#39;Title&amp;#39;,&amp;#39;Line 5&amp;#39;{Address}:&amp;#39;Title&amp;#39;,&amp;#39;Line 6&amp;#39;{Site Url}:&amp;#39;Title&amp;#39;&lt;/mso:ManagedPropertyMapping&gt;
&lt;mso:MasterPageDescription msdt:dt="string"&gt;This Item Display Template will show a marker when used with the the Google Maps control.&lt;/mso:MasterPageDescription&gt;
&lt;mso:ContentTypeId msdt:dt="string"&gt;0x0101002039C03B61C64EC4A04F5361F385106603&lt;/mso:ContentTypeId&gt;
&lt;mso:TargetControlType msdt:dt="string"&gt;;#Content Web Parts;#&lt;/mso:TargetControlType&gt;
&lt;mso:HtmlDesignAssociated msdt:dt="string"&gt;1&lt;/mso:HtmlDesignAssociated&gt;
&lt;mso:HtmlDesignConversionSucceeded msdt:dt="string"&gt;True&lt;/mso:HtmlDesignConversionSucceeded&gt;
&lt;mso:HtmlDesignStatusAndPreview msdt:dt="string"&gt;&lt;/mso:HtmlDesignStatusAndPreview&gt;
&lt;/mso:CustomDocumentProperties&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script&gt;
        $includeLanguageScript(this.url, "~sitecollection/_catalogs/masterpage/Display Templates/Language Files/{Locale}/CustomStrings.js");
    &lt;/script&gt;

    &lt;div id="TwoLines"&gt;
        &lt;!--#_
        var encodedId = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + "_2lines_");
        var linkURL = $getItemValue(ctx, "Link URL");
        linkURL.overrideValueRenderer($urlHtmlEncode);
        var iconURL = Srch.ContentBySearch.getIconSourceFromItem(ctx.CurrentItem);
        
        var title = $getItemValue(ctx, "Line 1");
        var latitude = $getItemValue(ctx, "Line 2");
        var longtitude = $getItemValue(ctx, "Line 3");
        var description = $getItemValue(ctx, "Line 4");
        var address = $getItemValue(ctx, "Line 5");
        var siteUrl = $getItemValue(ctx, "Line 6");
        title.overrideValueRenderer($contentLineText);
        latitude.overrideValueRenderer($contentLineText);
        longtitude.overrideValueRenderer($contentLineText);
        siteUrl.overrideValueRenderer($contentLineText);
        
        var itemId = ctx.CurrentItemIdx;
        _#--&gt;
        &lt;input type="hidden" id="_#= itemId =#_-Location" value="_#= title =#_;_#= latitude =#_;_#= longtitude =#_;_#= description =#_;_#= address =#_;_#= siteUrl =#_"&gt;
    &lt;/div&gt;
&lt;/body&gt;

        
      </pre></section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#display-tempaltes" class="page__taxonomy-item" rel="tag">Display Tempaltes</a><span class="sep">, </span>
    
      <a href="/tags/#google" class="page__taxonomy-item" rel="tag">Google</a><span class="sep">, </span>
    
      <a href="/tags/#sharepoint-2013" class="page__taxonomy-item" rel="tag">SharePoint 2013</a><span class="sep">, </span>
    
      <a href="/tags/#sharepoint-designer" class="page__taxonomy-item" rel="tag">SharePoint Designer</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#development" class="page__taxonomy-item" rel="tag">Development</a><span class="sep">, </span>
    
      <a href="/categories/#javascript" class="page__taxonomy-item" rel="tag">Javascript</a><span class="sep">, </span>
    
      <a href="/categories/#sharepoint" class="page__taxonomy-item" rel="tag">SharePoint</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2013-05-15T07:02:04+02:00">May 15, 2013</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=maikvandergaag&amp;text=Google+Maps+Display+Template+%26ndash%3B+SharePoint+2013+%26ndash%3B+Part+1%20http%3A%2F%2Flocalhost%3A4000%2F2013%2F05%2Fgoogle-maps-display-template-sharepoint-2013-part-1%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2013%2F05%2Fgoogle-maps-display-template-sharepoint-2013-part-1%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Flocalhost%3A4000%2F2013%2F05%2Fgoogle-maps-display-template-sharepoint-2013-part-1%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2013/05/exception-the-execute-method-of-job-definition-id-ad81e6cd-51ef-4baa-aedc-d529219368b5/" class="pagination--pager" title="Exception: The Execute method of job definition (ID ad81e6cd-51ef-4baa-aedc-d529219368b5) threw an exception
">Previous</a>
    
    
      <a href="/2013/05/google-maps-display-template-sharepoint-2013-part-2/" class="pagination--pager" title="Google Maps Display Template – SharePoint 2013 – Part 2
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/05/creating-a-logic-app-api-connection-that-uses-the-managed-identity-using-bicep/" rel="permalink">Creating a Logic App API Connection that uses the Managed Identity using Bicep
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Logic Apps in Azure provides a platform for building workflows that integrate with various services and APIs. When creating Logic Apps, you must often connec...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/03/unlocking-the-power-of-azure-app-registrations-a-guide-to-exposing-your-app-as-an-api-with-user-assignments-required-turned-on/" rel="permalink">“Exposing Azure App Registrations as Secure APIs: A Guide to Authentication with ‘User Assignments Required’ Turned On”
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Azure App Registrations are a powerful tool for managing resource access and integrating applications with Microsoft's cloud services. While these registrati...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/12/centrally-manage-your-app-configurations/" rel="permalink">Centrally manage your App Configurations
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The application landscape in Azure has grown significantly in recent years, with a wide range of tools and services available to help businesses build, deplo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/10/shift-left-security-with-microsoft-security-devops-msdo/" rel="permalink">Shift Left Security with Microsoft Security DevOps (MSDO)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">With the new capabilities released add Ignite, you are now even more capable of shifting security checks further to the left. In this article, I explain how ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script src="/assets/scripts/sidebarcontent.js"></script>
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/maikvandergaag" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/maikvandergaag/" rel="nofollow noopener noreferrer noopener noreferrer" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2023 Maik van der Gaag. Powered by <a href="https://jekyllrb.com" rel="nofollow noopener noreferrer" target="_blank">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow noopener noreferrer" target="_blank">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
