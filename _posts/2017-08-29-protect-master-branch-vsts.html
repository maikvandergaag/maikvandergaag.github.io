---
title: Protect your master Branch in VSTS
type: post
tags:
- Configuration
- Security
- VSTS
date: 2017-08-29 22:04:35.000000000 +02:00
permalink: /2017/08/protect-master-branch-vsts/
categories:
- Azure DevOps
status: publish
---
<p>You can set up permissions and policies to control who can read and update code in a branch on your Git repo within VSTS. You can set permissions for individual users and groups, and inherit and override permissions as needed.</p>
<p>&nbsp;</p>
<p>Within regular projects you want to set up specific permissions and policies on your master branch. Only specific users should add code to your master branch. This is done by permissions and policies</p>
<p>&nbsp;</p>
<h2>Adjust security on your master branch</h2>
<p>To remove access to a branch we can remove the permissions for the developers. In default situations your developers will reside in the default “Contributors” group. First step is to remove the inheritance from the branch because branch security is set up with inheritance.</p>
<p>&nbsp;</p>
<ol>
<li>Go to your project within VSTS</li>
<li>Click on the settings icon and then Version Control</li>
<li>Select the branch you want to stop the inheritance of.</li>
<li>Click on inheritance and select “off”.</li>
</ol>
<p><a href="/assets/archive/2017/08/inheritance-off.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="inheritance off" src="/assets/archive/2017/08/inheritance-off_thumb.png" alt="inheritance off" width="1124" height="539" border="0" /></a></p>
<ol start="5">
<li>With the inheritance off VSTS security groups can be removed from the branch.</li>
</ol>
<p><a href="/assets/archive/2017/08/remove-group.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="remove group from branch" src="/assets/archive/2017/08/remove-group_thumb.png" alt="remove group from branch" width="1009" height="483" border="0" /></a></p>
<p>&nbsp;</p>
<h2>Branch Policy</h2>
<p>If the permissions are setup correctly on the branch a policy needs to be configured in the branch in order for developers to be able to push code to the master branch, and that approval is configured on the so-called pull request.</p>
<ol>
<li>Go to your project within VSTS</li>
<li>Click on the settings icon and then Version Control</li>
<li>Select the branch</li>
<li>Select “Branch Policies”</li>
</ol>
<p><a href="/assets/archive/2017/08/branch-policies.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title=" VSTS Branch Policies" src="/assets/archive/2017/08/branch-policies_thumb.png" alt=" VSTS Branch Policies" width="1122" height="523" border="0" /></a></p>
<p>&nbsp;</p>
<ol start="5">
<li>On the branch policy page setup the policy as you want, you should for example configure a required approver. I also love the feature of a linked work items that are required.</li>
</ol>
<p><a href="/assets/archive/2017/08/image-12.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="Branch Policy" src="/assets/archive/2017/08/image_thumb-12.png" alt="Branch Policy" width="968" height="925" border="0" /></a></p>
