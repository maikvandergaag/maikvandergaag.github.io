---
layout: post
title: Version number counter for Azure DevOps
date: 2018-11-07 12:29:09.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- DevOps
tags:
- Azure DevOps
- Extension
- Pipeline
- Version
meta:
  yuzo_related_post_metabox: a:1:{s:21:"yuzo_disabled_related";N;}
  medium_post: O:11:"Medium_Post":11:{s:16:"author_image_url";s:64:"https://cdn-images-1.medium.com/fit/c/400/400/0*AxSPiq5RxgMb62vG";s:10:"author_url";s:34:"https://medium.com/@maikvandergaag";s:11:"byline_name";N;s:12:"byline_email";N;s:10:"cross_link";s:3:"yes";s:2:"id";s:12:"5911aea28e76";s:21:"follower_notification";s:3:"yes";s:7:"license";s:19:"all-rights-reserved";s:14:"publication_id";s:2:"-1";s:6:"status";s:6:"public";s:3:"url";s:87:"https://medium.com/@maikvandergaag/version-number-counter-for-azure-devops-5911aea28e76";}
  _edit_last: '3'
  _yoast_wpseo_content_score: '60'
  _yoast_wpseo_primary_category: '272'
  _thumbnail_id: '4311'
  _yoast_wpseo_focuskw: Azure DevOps
  _yoast_wpseo_metadesc: New Azure DevOps extension for having a auto incremented
    version / build number that can be used for multiple puposes within DevOps.
  _yoast_wpseo_linkdex: '81'
  _snap_forceSURL: '1'
  snap_MYURL: ''
  snapEdIT: '1'
  snapLI: s:228:"a:1:{i:0;a:8:{s:2:"do";s:1:"1";s:9:"msgFormat";s:41:"New post has
    been published on %SITENAME%";s:8:"postType";s:1:"A";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:4:"doLI";i:0;}}";
  _nxs_slinks: a:1:{s:32:"2d0491cdef6192f56d11173f00f4e03e";s:21:"http://bit.ly/2DpRVRr";}
  snap_MYSURL: a:3:{s:1:"s";s:21:"http://bit.ly/2DpRVRr";s:1:"t";s:75:"https://msftplayground.com/2018/11/version-number-counter-for-azure-devops/";s:1:"r";s:1:"B";}
  snap_isAutoPosted: '1541590153'
  _snapPHST: a:1:{s:2:"tw";a:1:{i:0;a:1:{i:0;a:4:{s:1:"l";s:61:"https://twitter.com/maikvandergaag/status/1060132058608078854";s:2:"id";s:19:"1060132058608078854";s:1:"d";s:19:"2018-11-07
    11:29:13";s:1:"w";s:1:"s";}}}}
  snapTW: s:396:"a:1:{i:0;a:12:{s:2:"do";s:1:"1";s:9:"msgFormat";s:25:"%TITLE% - %URL%
    - %HTAGS%";s:8:"attchImg";s:1:"0";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:4:"doTW";i:0;s:8:"isPosted";s:1:"1";s:4:"pgID";s:19:"1060132058608078854";s:7:"postURL";s:61:"https://twitter.com/maikvandergaag/status/1060132058608078854";s:5:"pDate";s:19:"2018-11-07
    11:29:13";}}";
  _wpas_done_all: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1576668611;s:7:"payload";a:0:{}}}
  _wds_opengraph: a:3:{s:5:"title";s:0:"";s:11:"description";s:0:"";s:6:"images";a:1:{i:0;s:0:"";}}
  _wds_twitter: a:3:{s:5:"title";s:0:"";s:11:"description";s:0:"";s:6:"images";a:1:{i:0;s:0:"";}}
  _wds_focus-keywords: Azure DevOps
  _wds_title: ''
  _wds_metadesc: New Azure DevOps extension for having a auto incremented version
    / build number that can be used for multiple puposes within DevOps.
  _wds_meta-robots-adv: ''
  _wds_meta-robots-nofollow: ''
  _wds_canonical: ''
author:
  login: maik@familie-vandergaag.nl
  email: maik@familie-vandergaag.nl
  display_name: Maik van der Gaag
  first_name: Maik
  last_name: van der Gaag
permalink: "/2018/11/version-number-counter-for-azure-devops/"
---
<p>This week I released a new extension for Azure Pipelines called <a href="https://marketplace.visualstudio.com/items?itemName=maikvandergaag.maikvandergaag-versioncounter">Version number counter</a>. With this extension you add the ability to auto increment a version number for for example a build or release.</p>
<h2>Features</h2>
<p>Keys features of this extension are:</p>
<ul>
<li>Auto increment patch version number.</li>
<li>Ability to manually change the version number.</li>
<li>Auto increment major version number when a maximum number for the minor version is specified.</li>
<li>Specify a maximum value for the patch, minor or major version number.</li>
<li>Auto increment minor version number when a maximum number for the patch version is specified.</li>
</ul>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/versioncounter.png"><img class="alignnone wp-image-4287 size-large" src="{{ site.baseurl }}/assets/archive/2018/11/versioncounter-1024x381.png" alt="Azure DevOps - Version number counter" width="640" height="238" /></a></p>
<h2>Configuration</h2>
<p>The extension can be found in the Azure DevOps marketplace (<a href="https://marketplace.visualstudio.com/items?itemName=maikvandergaag.maikvandergaag-versioncounter" target="_blank" rel="noopener">https://marketplace.visualstudio.com/items?itemName=maikvandergaag.maikvandergaag-versioncounter</a>). When installed you can find it in a release or build pipeline under the name "Version number counter".</p>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/searchversionnumber.png"><img class="alignnone wp-image-4293 size-large" src="{{ site.baseurl }}/assets/archive/2018/11/searchversionnumber-1024x181.png" alt="search version number" width="640" height="113" /></a></p>
<p>For the configuration of the extension there are two main parameters you need to set:</p>
<ul>
<li>The saved version variable: This parameters is the name of the variable you use to save the version number. This variable will be incremented on each build. This variable can also be used as for example the build number. The saved version number needs to be in the format: *.*.*</li>
<li>Azure DevOps Personal Access Token: A personal access token for an account that can update build of releases. When using the extension within a build or release pipeline you need to supply a personal access token with the appropriate amounts of rights:
<ul>
<li>For using it within a build:<strong> Build</strong>: Read &amp; Execute</li>
<li>For using it within a release: <strong>Release: </strong>Read, write and execute</li>
</ul>
</li>
</ul>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/Required-Permissions.png"><img class="alignnone wp-image-4283 size-full" src="{{ site.baseurl }}/assets/archive/2018/11/Required-Permissions.png" alt="Required Permissions - PAT" width="544" height="197" /></a></p>
<blockquote><p>Adding a personal access token to your build or release pipeline is only secure when you use the Azure Keyvault. Somewhat less secure is using a secure variable</p></blockquote>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/build-variables.png"><img class="alignnone wp-image-4295 size-large" src="{{ site.baseurl }}/assets/archive/2018/11/build-variables-1024x282.png" alt="Build variables" width="640" height="176" /></a></p>
<p>When you need to auto increment the minor or major version number you need to check the check box: "Automatically update minor number" or "Automatically update major number". When checked the options to insert the maximum patch / minor version number will appear.</p>
<blockquote><p>For example fill in 9 as the maximum patch number 1.0.9 will be incremented to 1.1.0.</p></blockquote>
<p>When you configure the variable with the version number as your build number format this number will be incremented with nicely with each build or release.</p>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/Build-Properties.png"><img class="alignnone wp-image-4297 size-large" src="{{ site.baseurl }}/assets/archive/2018/11/Build-Properties-1024x303.png" alt="Build Properties" width="640" height="189" /></a></p>
<p><a href="https://msftplayground.com/wp-content/uploads/2018/11/Builds.png"><img class="alignnone wp-image-4299 size-large" src="{{ site.baseurl }}/assets/archive/2018/11/Builds-1024x259.png" alt="Builds" width="640" height="162" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
