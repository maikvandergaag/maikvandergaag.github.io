---
title: Azure Management
type: post
tags:
- Azure;Management;Governance
date: 2017-01-09 16:25:15.000000000 +01:00
permalink: /2017/01/azure-management/
categories:
- Administration
- Azure
status: publish
---
<p>Azure Management and Governance is hard because Azure services are growing at a fast pace. Try to imagine that you are a Azure Administrator for a large company and that you need to maintain the Azure Subscription.</p>
<p>If you start thinking about it sounds really hard and that makes you wonder about options that you have to manage and keep it running as it should be.</p>
<p>For managing your Azure environment there are a couple of capabilities. Ad the time of writing there are the following build-in options:</p>
<ul>
<li>Azure Policy &amp; Audit</li>
<li>Role Based Access Control</li>
<li>Azure Automation</li>
<li>Resource Locks</li>
<li>Azure Security Center</li>
<li>Resource Groups</li>
<li>Azure Advisor</li>
</ul>
<p>Role Based Access Control is a huge one here. This was in place since the beginning of the new Azure Portal. This made sure you did not have to make someone Co-Administrator on your complete subscription. Besides the build-in options there is also a need to define a policy regarding your Azure Environment also called a Governance document. In the document you need to specify naming conventions that are used for creating and naming of services. The options described above can help you maintain that Governance.</p>
<h2>Azure Policy &amp; Audit</h2>
<p>Azure Policies and Audits help you manage risks within your Azure Environment / Subscription. Therefore it will help you by restricting, enforcing or auditing events.</p>
<p>Some key facts for policies and audits in Azure are:</p>
<ul>
<li>It is a default allow system. By default everything is allowed. You will need to define deny or audit actions.</li>
<li>Policies are created by Policy definitions, which are if-then conditions.</li>
<li>Policy definitions are defined in JSON</li>
<li>Deployed and Maintained via the Resource Manager.</li>
</ul>
<p>Policies within Azure can be build on three types of actions:</p>
<ul>
<li><strong>Deny</strong>: Stop / Cancel the request.</li>
<li><strong>Audit</strong>: Add a specific message to the Audit log.</li>
<li><strong>Append</strong>: Add information to the resource. For example add a specific tag.</li>
</ul>
<p>The defined policies can be enforced within the following scopes:</p>
<ul>
<li>Subscription</li>
<li>Resource group</li>
<li>Resource type</li>
</ul>
<p>My article about Azure Policies published a few weeks ago shares some more information and also contains information about the implementation:</p>
<ul>
<li><a title="https://msftplayground.com/2016/11/define-azure-resource-manager-policies/" href="https://msftplayground.com/2016/11/define-azure-resource-manager-policies/">Define Azure Resource Manager Policies</a></li>
</ul>
<p>Besides the article I also maintain a GitHub repository with policies I created:</p>
<ul>
<li><a href="https://github.com/MaikvanderGaag/MSFT-Azure-Policy">https://github.com/MaikvanderGaag/MSFT-Azure-Policy</a></li>
</ul>
<p>Alongside the policies you also have the activity (audit) log that gives insight in all activities in and around Azure.</p>
<p><a href="/assets/archive/2016/12/image.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="/assets/archive/2017/01/image_thumb.png" alt="image" width="621" height="236" border="0" /></a></p>
<h2>Resource Locks</h2>
<p>Resource locks support another type of management on your resources. With resource locks you for example are able to make a resource read-only. Which makes it possible to secure resources in another way. At the time of writing this article Resource Locks support two actions:</p>
<ul>
<li><strong>CanNotDelete: </strong>You will not be able to delete the resources with this lock applied.</li>
<li><strong>ReadOnly: </strong>You only be able to read the resources with this lock applied, and will not be able to edit specific properties.</li>
</ul>
<p>With a Resource Lock applied you can make sure someone does not accidently delete a business critical application, or for example the virtual network with the connection to the on-premise systems.</p>

<h2>Resource Tags</h2>
<p>Within Azure you have the option to add metadata to your resources in the form of tags. Tags are key value pairs that enable you to group and aggregate resources in various ways. With the use of Azure Policies you can also make sure that resources are tagged automatically with for example the Cost Center. Examples for tags are:</p>
<ul>
<li>Cost Center</li>
<li>Department</li>
<li>Owner</li>
<li>Project</li>
</ul>
<p><a href="/assets/archive/2016/12/tags.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="tags" src="/assets/archive/2017/01/tags_thumb.png" alt="tags" width="841" height="442" border="0" /></a></p>
<p>&nbsp;</p>
<p>In my opinion you should always tag your resources groups with useful information and tag the resources within with the tags that are appropriate.</p>
<h2>Resource Groups</h2>
<p>A Resource group is a logical container for resources. You can resources by project or application for example.</p>
<p>The resource group gives you the ability to manage the following:</p>
<ul>
<li>Delete resources at once.</li>
<li>Move resources at once.</li>
<li>Assign rights for the resource group.</li>
</ul>
<p>Because of the new model of Azure you can also assign rights within a Resource Group like Role-based access control to give access to resources.</p>
<h2>Azure Automation</h2>
<p>This service provides a way for people to automate the manual, long-running, error-prone, and frequently repeated tasks that are commonly performed in a enterprise environment.</p>
<p>With Azure Automation you create so called Runbooks that are sets of tasks that are needed to be performed. You can use Runbooks created by the community within you Azure Environment.</p>
<ul>
<li><a title="https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure&amp;f%5B1%5D.Type=SubCategory&amp;f%5B1%5D.Value=WindowsAzure_automation&amp;f%5B1%5D.Text=Automation" href="https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure&amp;f%5B1%5D.Type=SubCategory&amp;f%5B1%5D.Value=WindowsAzure_automation&amp;f%5B1%5D.Text=Automation">Azure Automation: Script resources for IT professionals</a></li>
<li><a title="https://docs.microsoft.com/en-us/azure/automation/automation-runbook-gallery#runbooks-in-runbook-gallery" href="https://docs.microsoft.com/en-us/azure/automation/automation-runbook-gallery#runbooks-in-runbook-gallery">Runbook and module galleries for Azure Automation</a></li>
</ul>
<p>Examples for Runbooks are:</p>
<ul>
<li>Automatically shut down Azure VM’s</li>
<li>Start and run specific services.</li>
</ul>
<h2>Azure Security Center</h2>
<p>As Microsoft states Security Center helps you prevent, detect, and respond to threats with increased visibility into and control over the security of your Azure resources. It provides integrated security monitoring and policy management across your Azure subscriptions, helps detect threats that might otherwise go unnoticed, and works with a broad ecosystem of security solutions.</p>
<p>In the most simple form Azure Security Center is a service that gives you recommendation about the security of your services. Besides that it is also able to monitor the services in order to detect threats within your environment.</p>
<p><a href="/assets/archive/2016/12/security-center.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="security center" src="/assets/archive/2017/01/security-center_thumb.png" alt="security center" width="852" height="593" border="0" /></a></p>
<p>Policies within Security center can be turned off when they are not seen as threats and based on specific settings you can also define alerts.</p>
<h2>Azure Advisor</h2>
<p>Since last month “Azure Advisor” made it to public preview. The service is a recommendation engine that recommends steps to optimally configure your Azure resources. By analyzing the resource configuration and usage data it is able to make recommendations according to the best practices that in the long run will reduce costs and better the performance.</p>
<p>The Azure Advisor will give recommendation on four categories:</p>
<ul>
<li>High Availability</li>
<li>Security</li>
<li>Performance</li>
<li>Costs</li>
</ul>
<p>You may noticed that the list also contains a Security category this category is a integration with Azure Security Center.</p>
<p>For information and how to start using the service read the following article:</p>
<ul>
<li><a title="https://msftplayground.com/2016/11/recommendations-on-azure-with-azure-advisor/" href="https://msftplayground.com/2016/11/recommendations-on-azure-with-azure-advisor/">Recommendations on Azure with Azure Advisor</a></li>
</ul>
<h2>Useful links</h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits" target="_blank">Azure subscription and service limits, quotas, and constraints</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-naming-conventions" target="_blank">Recommended naming conventions for Azure resources</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-policy" target="_blank">Use Policy to manage resources and control access</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-audit" target="_blank">Audit operations with Resource Manager</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags" target="_blank">Using tags to organize your Azure resources</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-lock-resources" target="_blank">Lock resources with Azure Resource Manager</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/automation/automation-intro" target="_blank">Azure Automation overview</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/automation/automation-runbook-gallery" target="_blank">Runbook and module galleries for Azure Automation</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/security-center/security-center-intro" target="_blank">Introduction to Azure Security Center</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/advisor/advisor-overview" target="_blank">Introduction to Azure Advisor</a></li>
</ul>
