---
title: Trigger a Pipeline from an Azure DevOps Pipeline
type: post
tags:
- Azure DevOps
- Pipeline
- Trigger
date: 2019-02-06 12:10:00.000000000 +01:00
permalink: /2019/02/trigger-a-pipeline-from-an-azure-devops-pipeline/
categories:
- Azure DevOps
status: publish
---

<p>In some situations,<br />
it can be useful to trigger an Azure DevOps pipeline from a pipeline.<br />
Triggering a pipeline can be done via the API and trough PowerShell. You can<br />
write your own script file and use the PowerShell tasks but there is also a<br />
custom task in the Azure DevOps marketplace:</p>


<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=maikvandergaag.maikvandergaag-trigger-pipeline" target="_blank" rel="noreferrer noopener" aria-label="Trigger Azure DevOps pipeline (opens in a new tab)">Trigger Azure DevOps pipeline</a></li>
</ul>


<p>With this task you can trigger a build or release pipeline from another pipeline within the same project or organization but also in another project or organization.</p>


<h2>Personal Access Token</h2>


<p>To get<br />
started a Personal Access Token is needed with the appropriate rights to execute<br />
pipelines. To generate a new Personal Access Token follow the below guide:</p>


<ul>
<li><a rel="noreferrer noopener" aria-label="Use personal access tokens to authenticate (opens in a new tab)" href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=vsts" target="_blank">Use personal access tokens to authenticate</a> </li>
</ul>


<p>Give the personal<br />
access token the following rights depending on your scenario:</p>


<ul>
<li>Triggering a Release:
<ul>
<li>Release – Read, write &amp; execute</li>
<li>Build - Read &amp; Execute (Needed for reading the artifacts)</li>
</ul>
</li>
<li>Triggering a Build:
<ul>
<li>Build - Read &amp; execute</li>
</ul>
</li>
</ul>


<p>Copy the token for later use.</p>


<h2>Configure extension</h2>


<p>When you<br />
have installed the extension, you can start by altering a pipeline from where<br />
you want to trigger a different pipeline.</p>


<ul>
<li>Add<br />
a new task to the pipeline by clicking in “+” icon.</li>
<li>In<br />
the task window search for “Trigger” and select the task “Trigger Azure DevOps<br />
pipeline”.</li>
<li>In<br />
the task click on “New” next to Azure DevOps Service connection to create a new<br />
connection.</li>
</ul>


<figure class="wp-block-image"><a href="/assets/archive/2019/01/Trigger-Azure-DevOps-Pipeline.png" target="_blank" rel="noreferrer noopener" /><img src="/assets/archive/2019/02/Trigger-Azure-DevOps-Pipeline-1024x541.png" alt="" class="wp-image-5057" /></figure>


<ul>
<li>In the new service connection window fill in all the correct properties.
<ul>
<li><strong>Connection name</strong>: The name for the connection</li>
</ul>
<ul>
<li><strong>Organization URL</strong>: The URL of the organization for Azure DevOps this would be https://dev.azure.com/[organization name]</li>
<li><strong>Release URL</strong>: The URLfor the release API for Azure DevOps this would be <br />https://vsrm.dev.azure.com/[organization name] </li>
<li><strong>Personal Access Token</strong>: The personal access token that needs to be used.</li>
</ul>
</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/Azure-DevOps-Service-Connection.png" target="_blank" rel="noreferrer noopener" /><img src="/assets/archive/2019/02/Azure-DevOps-Service-Connection.png" alt="" class="wp-image-5059" /></figure>
</div>


<ul>
<li>In<br />
the task choose the right options. The field for the project, build and release<br />
definitions should be filled in for you.</li>
</ul>


<p>When you want<br />
to trigger a release for a specific version make sure to fill in the build<br />
number. When left empty the extension will use the latest version by default.</p>


<p>Besides that,<br />
it is also possible to trigger a build for a specific branch. When you want to<br />
make use of that option make sure you fill in the “Branch” property.</p>

