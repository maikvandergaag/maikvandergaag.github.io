---
title: Getting Started with Azure Monitoring via AIMS
type: post
tags:
- AIMS
- Azure
date: 2019-01-23 11:54:57.000000000 +01:00
permalink: /2019/01/getting-started-with-azure-monitoring-via-aims/
categories:
- Azure
status: publish
---

<p>Since a couple of weeks I'm part of the AIMS Performance Pro team because of my knowledge on Azure and other related topics.  The AIMS performance Pro team (#aimsperformancepro) is a program for ambitious and outspoken technical professionals who have interests in the intersection of IT integration, monitoring, analytics, performance tuning and troubleshooting.</p>


<p> It is a great honor for me to be part of the team, but I also want to add that you do not get sales talk about AIMS. In all my post I will give my own opinion both good or bad. </p>


<p>To give a clear opinion I started to try out the monitoring solution of AIMS for Azure. This blog post will get you up and running and in the future I will publish other post on what I discover with AIMS.</p>


<p>But what is so special about the monitoring solution of AIMS. Here is what they mention on their website.</p>


<blockquote class="wp-block-quote"><p>AIMS it is  the only performance monitoring and governance solution that applies AI and machine learning to give you complete control over your Azure environment. With AIMS, you can&nbsp;automatically detect anomalies&nbsp;in your Azure Services,&nbsp;correlate issues&nbsp;across cloud and on-prem environments and&nbsp;actively control your Azure consumption costs. </p>
<p><cite>AIMS</cite></p></blockquote>


<p>On the website you can also see which Azure Services they currently (01-2019) monitor:</p>


<ul>
<li>Azure Web Apps</li>
<li>API Management</li>
<li>Cache/Redis</li>
<li>Virtual Machines: Classic Compute</li>
<li>Network/Network Interfaces</li>
<li>Virtual Machines: Compute/Disks </li>
<li>Network/Public IP Addresses</li>
<li>Cosmos DB</li>
<li>Virtual Machines: Compute/VMs</li>
<li>Event Hub</li>
<li>Key Vault</li>
<li>Logic Apps</li>
<li> Azure Billing Data </li>
<li>Service Bus</li>
<li>Signal R Service</li>
<li>Azure SQL DB</li>
<li>Azure Storage</li>
<li>App Service Plans</li>
<li>Azure Functions</li>
</ul>


<p>This requires a test-drive in my opinion.</p>


<h2>Getting Started</h2>


<p>To get started you will need a service principal in Azure Active Directory for AIMS to read all the information within your Azure Subscription. In this blog series we will give this service principal "Reader" rights on a management group that contains all my subscriptions. Because I want to monitor all my subscriptions.</p>


<ul>
<li>Open the Azure Portal (<a href="https://portal.azure.com" target="_blank" rel="noreferrer noopener" aria-label="https://portal.azure.com (opens in a new tab)">https://portal.azure.com</a>)</li>
<li>Go to Azure Active Directory.</li>
<li>Click on "App Registrations" and click on "New Application Registration"</li>
<li>Fill in a name for the application. You could use "AIMS Monitoring Application" and set the type to "Web App / API" and fill in a random URL.</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/Azure-Application.png" /><img src="/assets/archive/2019/01/Azure-Application.png" alt="" class="wp-image-4907" /></figure>
</div>


<ul>
<li>When the application is created the application blade will be shown. From this blade copy the "Application ID" to a notepad for later use.</li>
<li>Click on "Settings" and then "Keys" and add a new key. Copy this key for later use.</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/Azure-Application-2-1024x355.png" /><img src="/assets/archive/2019/01/Azure-Application-2-1024x355.png" alt="" class="wp-image-4911" /></figure>
</div>


<h2>Access within Azure</h2>


<p>As mentioned before the application needs the "Reader" role within the subscription. As I have multiple subscriptions I have a management group that contains all of my subscriptions. To configure the "Reader" role on all subscriptions:</p>


<ul>
<li> Open the "Management Groups" blade. (All services &gt; Management Groups)</li>
<li>Select the correct Management Group and in the management group click on "details".</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/management-group.png" /><img src="/assets/archive/2019/01/management-group.png" alt="" class="wp-image-4913" /></figure>
</div>


<ul>
<li>In the details blade click on "Access Controls" and then "Role Assignments". Click on "add role assignment" to add a specific role assignment.</li>
<li>Within the role assignments blade select the appropriate role and application.</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/security.png" /><img src="/assets/archive/2019/01/security.png" alt="" class="wp-image-4915" /></figure>
</div>


<h2>AIMS Environment</h2>


<p>With the application configured we can add a subscription to an AIMS environment. To test this all out I requested a test environment from AIMS via the following link <a href="https://www.aims.ai/aims-free-edition">https://www.aims.ai/aims-free-edition</a>. If you already have an account use this URL to login <a href="https://login.aimsinnovation.com/environments">https://login.aimsinnovation.com/environments</a>.</p>


<p>When you have the environment and also created a environment in there you are able to set it up for monitoring your subscription. </p>


<ul>
<li>In your AIMS environment open the menu by clicking the gear icon.</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/aims-settings.png" /><img src="/assets/archive/2019/01/aims-settings-1024x166.png" alt="" class="wp-image-4919" /></figure>
</div>


<ul>
<li>In the menu click on "Agents" </li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/settings.png" /><img src="/assets/archive/2019/01/settings.png" alt="" class="wp-image-4921" /></figure>
</div>


<ul>
<li>On this page all of the already configured agents shown. Click on "Connect Agent" to add a new agent (subscription).</li>
</ul>


<div class="wp-block-image">
<figure class="aligncenter"><a href="/assets/archive/2019/01/connect-agent.png" /><img src="/assets/archive/2019/01/connect-agent.png" alt="Connect Agent" class="wp-image-4923" /></figure>
</div>


<ul>
<li>In the connect agent window make sure you select the "Azure agent" as your agent type and supply all the information of your subscription and of the newly created service principal and click on "Create" to start monitoring your subscription.</li>
</ul>


<figure class="wp-block-image"><a href="/assets/archive/2019/01/add-agent.png" /><img src="/assets/archive/2019/01/add-agent.png" alt="" class="wp-image-4925" /></figure>


<p>If you configured everything correctly information about your subscription will be retrieved and added to the portal. This can be checked by going to the "Topology" tab. In this tab you should see resource group names that are in the subscription. (Be patient it can sometimes take a while. The first time it took me about 5 minutes).</p>


<figure class="wp-block-image"><a href="/assets/archive/2019/01/topology.png" /><img src="/assets/archive/2019/01/topology-1024x309.png" alt="AIMS Topology" class="wp-image-4927" /></figure>


<p>With the agent configured I'm really curious of what the system can do for me. In future post I will keep you updated of some of the features and my findings regarding the solution.</p>

